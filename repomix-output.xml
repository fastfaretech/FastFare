This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
eslint.config.js
index.html
package.json
postcss.config.js
public/vite.svg
README.md
src/App.tsx
src/assets/react.svg
src/components/DashboardLayout.tsx
src/components/ParticleField.tsx
src/index.css
src/lib/api.js
src/main.tsx
src/pages/CreateAdmin.tsx
src/pages/DashboardAdmin.tsx
src/pages/DashboardPartner.tsx
src/pages/DashboardUser.tsx
src/pages/Home.tsx
src/pages/Login.tsx
src/pages/NewPickup.tsx
src/pages/NewShipment.tsx
src/pages/PartnersList.tsx
src/pages/Register.tsx
src/pages/ShipmentsList.tsx
src/pages/UserDetails.tsx
src/pages/UsersList.tsx
tailwind.config.js
tsconfig.app.json
tsconfig.json
tsconfig.node.json
vite.config.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/pages/UsersList.tsx">
import { useEffect, useState } from "react";
import ParticleField from "../components/ParticleField";
import logo from "../assets/logo.png";
import { apiFetch } from "../lib/api";

// Define user object type
interface User {
  name: string;
  email: string;
  // Add any other fields returned by your API here
}

// Define API response type
interface ApiResponse {
  users: User[];
}

export default function UsersList() {
  const [users, setUsers] = useState<User[]>([]);

  useEffect(() => {
    (async () => {
      try {
        const res = await apiFetch("/api/v1/admin/users");
        setUsers((res as ApiResponse).users || []);
      } catch (error) {
        console.error(error);
      }
    })();
  }, []);

  return (
    <div className="relative bg-slate-950 min-h-screen text-white">
      <ParticleField />

      <header className="fixed inset-x-0 top-0 z-30">
        <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
          <div className="container mx-auto px-6 py-4 flex items-center justify-between">
            <div className="flex items-center gap-4">
              <img src={logo} width={40} height={40} />
              <div className="text-lg font-bold">FastFare ‚Äî Admin</div>
            </div>
            <button
              className="text-slate-300 hover:text-white"
              onClick={() => (window.location.href = "/admin/dashboard")}
            >
              ‚Üê Back to Dashboard
            </button>
          </div>
        </div>
      </header>

      <main className="pt-28 px-6 max-w-4xl mx-auto">
        <h2 className="text-3xl font-bold mb-6 text-cyan-400">All Users</h2>

        {users.map((user, idx) => (
          <div key={idx} className="p-4 mb-2 bg-slate-900/60 rounded">
            {user.name} ‚Äî {user.email}
          </div>
        ))}
      </main>
    </div>
  );
}
</file>

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fastfare-frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="postcss.config.js">
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
</file>

<file path="public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="README.md">
# React + TypeScript + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:

```js
export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...

      // Remove tseslint.configs.recommended and replace with this
      tseslint.configs.recommendedTypeChecked,
      // Alternatively, use this for stricter rules
      tseslint.configs.strictTypeChecked,
      // Optionally, add this for stylistic rules
      tseslint.configs.stylisticTypeChecked,

      // Other configs...
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```

You can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:

```js
// eslint.config.js
import reactX from 'eslint-plugin-react-x'
import reactDom from 'eslint-plugin-react-dom'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...
      // Enable lint rules for React
      reactX.configs['recommended-typescript'],
      // Enable lint rules for React DOM
      reactDom.configs.recommended,
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```
</file>

<file path="src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="src/components/DashboardLayout.tsx">
import React, { useState } from "react";
import { Link } from "react-router-dom";
import logo from "../assets/logo.png";

export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  const [sidebarOpen, setSidebarOpen] = useState(false);

  return (
    <div className="min-h-screen flex dashboard-bg">
      {/* Sidebar */}
      <aside
        className={`${
          sidebarOpen ? "flex" : "hidden"
        } lg:flex w-72 flex-col p-4 gap-4 border-r border-brand-100 bg-white/60 backdrop-blur-xl sticky top-0 h-screen premium-shadow`}
      >
        <div className="flex items-center gap-3 px-2 py-3">
          <img src={logo} alt="FastFare" width={40} height={40} className="object-contain h-8" />
          <div>
            <div className="text-sm font-semibold text-brand-900">FastFare</div>
            <div className="text-xs text-slate-500">Logistics Portal</div>
          </div>
        </div>

        <nav className="mt-4 flex-1 space-y-1 text-sm">
          <Link to="/dashboard/user" className="block p-3 rounded-xl hover:bg-brand-100/50">
            Dashboard
          </Link>
          <Link to="/shipments" className="block p-3 rounded-xl hover:bg-brand-100/50">
            Shipments
          </Link>
          <Link to="/tracking" className="block p-3 rounded-xl hover:bg-brand-100/50">
            Track
          </Link>
          <Link to="/wallet" className="block p-3 rounded-xl hover:bg-brand-100/50">
            Wallet
          </Link>
          <Link to="/support" className="block p-3 rounded-xl hover:bg-brand-100/50">
            Support
          </Link>
        </nav>

        <div className="mt-auto px-2 pb-4">
          <button
            onClick={() => {
              localStorage.removeItem("ff_token");
              window.location.href = "/login";
            }}
            className="btn-secondary w-full py-3"
          >
            Logout
          </button>
        </div>
      </aside>

      {/* Main Content */}
      <div className="flex-1 min-w-0">
        <header className="w-full border-b border-brand-200/50 bg-white/70 backdrop-blur-xl sticky top-0 z-30">
          <div className="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">
            <div className="flex items-center gap-4">
              <button
                className="lg:hidden p-2 rounded-md bg-white/70 shadow-sm"
                onClick={() => setSidebarOpen(!sidebarOpen)}
                aria-label="Toggle sidebar"
              >
                ‚ò∞
              </button>
              <div className="text-sm font-medium text-brand-900">Dashboard</div>
              <div className="text-xs text-slate-500">Welcome to your logistics hub</div>
            </div>
            <div className="flex items-center gap-4">
              <button
                className="btn-premium bg-[#0096c7] rounded-3xl premium-shadow text-white px-5 py-3 hover:bg-[#023e8a] transition-colors duration-300"
                onClick={() => (window.location.href = "/shipments/new")}
                aria-label="Create new shipment"
              >
                <span className="mr-2">New Shipment</span>
              </button>
              <div className="text-xs text-slate-500">Demo Mode</div>
            </div>
          </div>
        </header>
        <main className="max-w-7xl mx-auto p-6">{children}</main>
      </div>
    </div>
  );
}
</file>

<file path="src/components/ParticleField.tsx">
import React, { type JSX } from 'react';

export default function ParticleField(): JSX.Element {
  return (
    <svg
      className="pointer-events-none absolute inset-0 w-full h-full"
      preserveAspectRatio="none"
      aria-hidden="true"
    >
      <defs>
        <linearGradient id="g-common" x1="0" x2="1">
          <stop offset="0%" stopColor="#06b6d4" stopOpacity="0.12" />
          <stop offset="100%" stopColor="#6366f1" stopOpacity="0.06" />
        </linearGradient>
      </defs>

      <circle cx="10%" cy="85%" r="140" fill="url(#g-common)">
        <animate attributeName="cy" dur="12s" values="90%;80%;88%" repeatCount="indefinite" />
        <animate attributeName="r" dur="10s" values="120;160;130" repeatCount="indefinite" />
      </circle>

      <circle cx="85%" cy="20%" r="120" fill="#6d28d933">
        <animate attributeName="cy" dur="16s" values="18%;26%;20%" repeatCount="indefinite" />
        <animate attributeName="r" dur="14s" values="100;140;110" repeatCount="indefinite" />
      </circle>

      <circle cx="50%" cy="48%" r="80" fill="#06b6d422">
        <animate attributeName="cx" dur="18s" values="48%;52%;49%" repeatCount="indefinite" />
        <animate attributeName="r" dur="12s" values="60;90;70" repeatCount="indefinite" />
      </circle>
    </svg>
  );
}
</file>

<file path="src/lib/api.js">
export const BACKEND = import.meta.env.VITE_BACKEND_URL || "http://localhost:3000";

export async function apiFetch(path, opts = {}) {
  const token = localStorage.getItem("ff_token");
  const headers = new Headers(opts.headers || {});
  headers.set("Content-Type", "application/json");
  if (token) headers.set("Authorization", `Bearer ${token}`);

  const res = await fetch(`${BACKEND}${path}`, { ...opts, headers });
  const body = await res.json().catch(() => ({}));

  if (res.status === 401) {
    localStorage.removeItem("ff_token");
    window.location.href = "/login";
    throw new Error("Unauthorized");
  }

  if (!res.ok) {
    throw Object.assign(new Error(body.message || "API error"), { body, status: res.status });
  }

  return body;
}
</file>

<file path="src/main.tsx">
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
</file>

<file path="src/pages/CreateAdmin.tsx">
import React, { useState, type JSX } from "react";
import logo from "../assets/logo.png";
import ParticleField from "../components/ParticleField";

interface FormState {
  name: string;
  email: string;
  phone: string;
  password: string;
  role: string;
}

export default function CreateAdmin(): JSX.Element {
  const [form, setForm] = useState<FormState>({
    name: "",
    email: "",
    phone: "",
    password: "",
    role: "admin",
  });

  const backend = import.meta.env.VITE_BACKEND_URL;

  const handleCreate = async (): Promise<void> => {
    try {
      const token = localStorage.getItem("ff_admin_token");
      if (!token) return alert("Not authorized");

      const res = await fetch(`${backend}/api/v1/admin/create`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(form),
      });

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        throw new Error(err.message || "Failed to create admin");
      }

      alert("Admin created successfully!");
      window.location.href = "/admindashboard";
    } catch (err: any) {
      alert(err.message || "Error creating admin");
    }
  };

  return (
    <div className="relative min-h-screen bg-slate-950 overflow-hidden">
      {/* üî• Particle Background */}
      <ParticleField />

      {/* NAVBAR */}
      <header className="fixed inset-x-0 top-0 z-20">
        <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
          <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
            <div className="flex items-center gap-3">
              <img src={logo} width={40} height={40} alt="FastFare Logo" />
              <div>
                <div className="text-sm font-semibold text-cyan-300">FastFare</div>
                <div className="text-xs text-slate-400">Create Admin Account</div>
              </div>
            </div>
            <button
              className="text-slate-300 hover:text-white"
              onClick={() => (window.location.href = "/admindashboard")}
            >
              ‚Üê Back
            </button>
          </div>
        </div>
      </header>

      {/* MAIN FORM CARD */}
      <main className="pt-28 relative z-10">
        <div className="max-w-xl mx-auto mt-10 p-10 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-xl">
          <h2 className="text-3xl font-bold text-cyan-400 mb-8 text-center">Add New Admin</h2>
          <div className="space-y-6">
            <div>
              <label className="block mb-2 text-slate-200">Full Name</label>
              <input
                className="w-full p-3 rounded-xl bg-slate-900/40 border border-slate-700 text-white"
                placeholder="Admin Name"
                onChange={(e) => setForm({ ...form, name: e.target.value })}
              />
            </div>
            <div>
              <label className="block mb-2 text-slate-200">Email ID</label>
              <input
                type="email"
                className="w-full p-3 rounded-xl bg-slate-900/40 border border-slate-700 text-white"
                placeholder="admin@company.com"
                onChange={(e) => setForm({ ...form, email: e.target.value })}
              />
            </div>
            <div>
              <label className="block mb-2 text-slate-200">Phone Number</label>
              <input
                className="w-full p-3 rounded-xl bg-slate-900/40 border border-slate-700 text-white"
                placeholder="+91 98765 43210"
                onChange={(e) => setForm({ ...form, phone: e.target.value })}
              />
            </div>
            <div>
              <label className="block mb-2 text-slate-200">Password</label>
              <input
                type="password"
                className="w-full p-3 rounded-xl bg-slate-900/40 border border-slate-700 text-white"
                placeholder="Create password"
                onChange={(e) => setForm({ ...form, password: e.target.value })}
              />
            </div>
          </div>
          <button
            onClick={handleCreate}
            className="w-full mt-8 py-3 bg-cyan-400 text-black font-semibold rounded-xl hover:bg-cyan-300 transition"
          >
            Create Admin
          </button>
        </div>
      </main>
    </div>
  );
}
</file>

<file path="src/pages/DashboardAdmin.tsx">
import { useEffect, useState, type JSX } from "react";
import ParticleField from "../components/ParticleField";
import { motion } from "framer-motion";
import { Truck, CheckCircle2, Clock, Package, ArrowRight } from "lucide-react";
import { apiFetch } from "../lib/api";
import logo from "../assets/logo.png";

// Types
interface Stats {
    activeUsers?: number;
    shipmentsToday?: number;
    partners?: number;
    apiStatus?: string;
    [key: string]: unknown;
}

interface Admin {
    email: string;
    role?: string;
    [key: string]: unknown;
}

interface AdminListResponse {
    admins: Admin[];
}

// CARD CSS
const cardAnim = {
    hidden: { opacity: 0, y: 20 },
    show: { opacity: 1, y: 0 },
};

const GLASS_CARD_DARK =
    "glass-card p-6 rounded-3xl border border-indigo-700/18 backdrop-blur-xl shadow-2xl bg-indigo-900/22 text-white";
const GLASS_CARD_LIGHT =
    "glass-card p-6 rounded-3xl border border-indigo-200/40 backdrop-blur-xl shadow-2xl bg-white/90 text-black";
const INLINE_BADGE =
    "inline-flex items-center gap-3 bg-indigo-700/12 rounded-full px-5 py-2 border border-indigo-600/12";

function NavBar(): JSX.Element {
    const [mobileOpen, setMobileOpen] = useState<boolean>(false);

    const links = ["Overview", "Partners", "Users", "Shipments"];

    return (
        <header className="fixed inset-x-0 top-0 z-30">
            <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
                <div className="container mx-auto px-6 py-4 flex items-center justify-between">
                    <div className="flex items-center gap-4">
                        <img
                            src={logo}
                            alt="FastFare"
                            width={40}
                            height={40}
                            className="object-contain h-8"
                        />
                        <div className="text-white font-extrabold text-lg">
                            FastFare ‚Äî Admin
                        </div>
                    </div>

                    {/* Desktop nav */}
                    <nav className="hidden md:flex items-center gap-8">
                        {links.map((l) => (
                            <a
                                key={l}
                                href="#"
                                className="text-sm text-slate-200 hover:text-white"
                            >
                                {l}
                            </a>
                        ))}
                    </nav>

                    <div className="hidden md:flex items-center gap-4">
                        <button
                            className="text-slate-200 hover:text-white"
                            onClick={() => (window.location.href = "/login")}
                        >
                            Sign in
                        </button>
                        <button
                            className="px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg hover:scale-105 transition"
                            onClick={() => (window.location.href = "/register")}
                        >
                            Get Started
                        </button>
                    </div>

                    {/* Mobile hamburger */}
                    <button
                        className="md:hidden text-slate-200 text-2xl"
                        onClick={() => setMobileOpen((prev) => !prev)}
                        aria-label="Toggle menu"
                    >
                        ‚ò∞
                    </button>
                </div>

                {/* Mobile menu */}
                {mobileOpen && (
                    <div className="md:hidden border-t border-indigo-700/30">
                        <nav className="px-6 py-4 space-y-3 bg-black/60">
                            {links.map((l) => (
                                <a
                                    key={l}
                                    href="#"
                                    className="block text-sm text-slate-200 hover:text-white"
                                >
                                    {l}
                                </a>
                            ))}

                            <div className="mt-4 space-y-2">
                                <button
                                    className="w-full text-left text-slate-200 hover:text-white"
                                    onClick={() => (window.location.href = "/login")}
                                >
                                    Sign in
                                </button>
                                <button
                                    className="w-full mt-1 px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg"
                                    onClick={() => (window.location.href = "/register")}
                                >
                                    Get Started
                                </button>
                            </div>
                        </nav>
                    </div>
                )}
            </div>
        </header>
    );
}

export default function Page(): JSX.Element | null {
    const [mounted, setMounted] = useState<boolean>(false);
    const [stats, setStats] = useState<Stats>({});
    const [admins, setAdmins] = useState<Admin[]>([]);
    const [loading, setLoading] = useState<boolean>(true);
    const [error, setError] = useState<string | null>(null);

    useEffect(() => {
        setMounted(true);
        (async () => {
            try {
                const s = (await apiFetch(
                    "/api/v1/admin/stats"
                ).catch(() => null)) as Stats | null;
                const a = (await apiFetch(
                    "/api/v1/admin/list-admins"
                ).catch(() => null)) as AdminListResponse | null;

                if (s) setStats(s);
                if (a && Array.isArray(a.admins)) setAdmins(a.admins);
            } catch (e: any) {
                console.error(e);
                setError(e?.message || "Failed to load admin data");
            } finally {
                setLoading(false);
            }
        })();
    }, []);

    if (!mounted) return null;

    const handleCreate = async (): Promise<void> => {
        const email = prompt("New admin email:");
        if (!email) return;
        try {
            await apiFetch("/api/v1/admin/create", {
                method: "POST",
                body: JSON.stringify({ email }),
            });

            alert("Invite sent / admin created.");
            const a = (await apiFetch(
                "/api/v1/admin/list-admins"
            ).catch(() => null)) as AdminListResponse | null;
            if (a && Array.isArray(a.admins)) setAdmins(a.admins);
        } catch (e: any) {
            alert(e?.message || "Failed to create admin");
        }
    };

    return (
        <>
            <NavBar />

            <main className="pt-28 min-h-screen bg-gradient-to-br from-brand-900 via-slate-900 to-black text-white relative overflow-hidden">
                <ParticleField />

                <section className="container mx-auto px-6 pb-16 relative z-10">
                    <div className="grid lg:grid-cols-3 gap-8 items-start">
                        <div className="lg:col-span-2 space-y-6">
                            <div className={GLASS_CARD_DARK}>
                                <div className="flex items-start justify-between">
                                    <div>
                                        <div className={INLINE_BADGE}>
                                            <div className="w-2 h-2 bg-cyan-400 rounded-full animate-pulse" />
                                            <span className="text-sm font-semibold text-slate-200">
                                                Platform Stats
                                            </span>
                                        </div>

                                        <h2 className="mt-4 text-3xl font-black text-white">
                                            Overview
                                        </h2>
                                        <p className="text-slate-200 mt-2">
                                            Global metrics and platform health at-a-glance.
                                        </p>
                                    </div>

                                    <div className="flex flex-col gap-2">
                                        <button
                                            onClick={() =>
                                                (window.location.href = "/admin/create-admin")
                                            }
                                            className="px-3 py-2 rounded bg-indigo-50 text-slate-900 hover:bg-indigo-100 transition"
                                        >
                                            Add New Admin
                                        </button>
                                        <button
                                            onClick={() => {
                                                localStorage.removeItem("ff_token");
                                                window.location.href = "/login";
                                            }}
                                            className="px-4 py-2 bg-white/10 rounded-lg text-white"
                                        >
                                            Logout
                                        </button>
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                                    <div className="p-4 rounded-2xl bg-indigo-900/14 border border-indigo-700/12">
                                        <div className="text-xs text-slate-300">Active Users</div>
                                        <div className="text-2xl font-bold text-white">
                                            {stats.activeUsers ?? "‚Äî"}
                                        </div>
                                    </div>

                                    <div className="p-4 rounded-2xl bg-indigo-900/14 border border-indigo-700/12">
                                        <div className="text-xs text-slate-300">
                                            Shipments Today
                                        </div>
                                        <div className="text-2xl font-bold text-white">
                                            {stats.shipmentsToday ?? "‚Äî"}
                                        </div>
                                    </div>

                                    <div className="p-4 rounded-2xl bg-indigo-900/14 border border-indigo-700/12">
                                        <div className="text-xs text-slate-300">Partners</div>
                                        <div className="text-2xl font-bold text-white">
                                            {stats.partners ?? "‚Äî"}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <motion.div
                                initial="hidden"
                                animate="show"
                                variants={cardAnim}
                                className={GLASS_CARD_DARK}
                            >
                                <h3 className="text-xl font-bold text-white">Admins</h3>
                                <p className="text-slate-200 text-sm mt-1">
                                    Manage administrative users and permissions.
                                </p>

                                <div className="mt-6 space-y-3">
                                    {loading ? (
                                        <div className="text-slate-300">Loading admins‚Ä¶</div>
                                    ) : admins.length === 0 ? (
                                        <div className="text-slate-300">No admins found</div>
                                    ) : (
                                        admins.map((a) => (
                                            <div
                                                key={a.email}
                                                className="flex justify-between items-center p-3 rounded-xl bg-indigo-900/12 border border-indigo-700/10"
                                            >
                                                <div>
                                                    <div className="font-medium text-white">
                                                        {a.email}
                                                    </div>
                                                    <div className="text-xs text-slate-300">
                                                        {a.role || "admin"}
                                                    </div>
                                                </div>

                                                <div className="flex gap-2">
                                                    <button className="px-3 py-1 rounded bg-white/6 text-white">
                                                        Impersonate
                                                    </button>
                                                    <button className="px-3 py-1 rounded bg-white/6 text-white">
                                                        Reset
                                                    </button>
                                                </div>
                                            </div>
                                        ))
                                    )}
                                </div>
                            </motion.div>
                        </div>

                        <aside className="space-y-6">
                            <div className={GLASS_CARD_DARK}>
                                <div className="text-xs text-slate-300">Health</div>
                                <div className="mt-2 text-white">
                                    API: {stats.apiStatus ?? "OK"}
                                </div>
                            </div>

                            <div className={GLASS_CARD_LIGHT}>
                                <h4 className="text-black font-semibold">Quick Links</h4>
                                <div className="mt-3 grid gap-2">
                                    <button
                                        onClick={() =>
                                            (window.location.href = "/admin/users")
                                        }
                                        className="flex "
                                    >
                                        Users
                                    </button>
                                    <button
                                        onClick={() =>
                                            (window.location.href = "/admin/partners")
                                        }
                                        className="flex "
                                    >
                                        Partners
                                    </button>
                                    <button
                                        onClick={() =>
                                            (window.location.href = "/admin/shipments")
                                        }
                                        className="flex "
                                    >
                                        Shipments
                                    </button>
                                </div>
                            </div>

                            <div className={GLASS_CARD_DARK}>
                                <h4 className="text-white font-semibold">Recent Trends</h4>
                                <div className="mt-2 text-slate-300 text-sm">
                                    Simple summary ‚Äî add charts later.
                                </div>
                            </div>
                        </aside>
                    </div>
                </section>

                <footer className="bg-transparent text-slate-300 py-8 border-t border-indigo-700/8 relative z-10">
                    <div className="container mx-auto px-6 text-sm flex justify-between">
                        <div>¬© 2025 FastFare. All rights reserved.</div>
                        <div className="flex gap-6">
                            <a className="hover:text-white">Privacy</a>
                            <a className="hover:text-white">Terms</a>
                        </div>
                    </div>
                </footer>
            </main>
        </>
    );
}
</file>

<file path="src/pages/DashboardPartner.tsx">
import React, { useEffect, useState, type JSX } from "react";
import { motion } from "framer-motion";
import ParticleField from "../components/ParticleField";
import { apiFetch } from "../lib/api";
import logo from "../assets/logo.png";

const itemAnim = { hidden: { opacity: 0, y: 20 }, show: { opacity: 1, y: 0 } };
const GLASS_CARD_DARK =
    "glass-card p-6 rounded-3xl border border-indigo-700/18 backdrop-blur-xl shadow-xl bg-indigo-900/22 text-white";
const GLASS_CARD_LIGHT =
    "glass-card p-6 rounded-3xl border border-indigo-200/40 backdrop-blur-xl shadow-xl bg-white/90 text-black";
const INLINE_BADGE =
    "inline-flex items-center gap-3 bg-indigo-700/12 rounded-full px-5 py-2 border border-indigo-600/12";

// Types for dashboard data
interface PartnerStats {
    assigned?: number;
    awaitingPickup?: number;
    delivered?: number;
    earnings?: number;
    fleetName?: string;
    [key: string]: unknown;
}

interface Task {
    id?: string;
    awb?: string;
    status?: string;
    to?: {
        city?: string;
        address?: string;
        [key: string]: unknown;
    };
    [key: string]: unknown;
}

interface PartnerDashboardResponse extends PartnerStats {
    tasks?: Task[];
}

const NavBar: React.FC = () => {
    const [mobileOpen, setMobileOpen] = useState<boolean>(false);

    const links = ["Dashboard", "Tasks", "Collections"];

    return (
        <header className="fixed inset-x-0 top-0 z-30">
            <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
                <div className="container mx-auto px-6 py-4 flex items-center justify-between">
                    <div className="flex items-center gap-4">
                        <img src={logo} alt="FastFare" width={40} height={40} />
                        <div className="text-white font-extrabold text-lg">
                            FastFare ‚Äî Partner
                        </div>
                    </div>

                    {/* Desktop nav */}
                    <nav className="hidden md:flex items-center gap-8">
                        {links.map((l) => (
                            <a
                                key={l}
                                href="#"
                                className="text-sm text-slate-200 hover:text-white"
                            >
                                {l}
                            </a>
                        ))}
                    </nav>

                    {/* Desktop actions */}
                    <div className="hidden md:flex items-center gap-4">
                        <button
                            className="text-slate-200 hover:text-white"
                            onClick={() => (window.location.href = "/login")}
                        >
                            Sign in
                        </button>
                        <button
                            className="px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg hover:scale-105 transition"
                            onClick={() => (window.location.href = "/partner/tasks")}
                        >
                            Open Tasks
                        </button>
                    </div>

                    {/* Mobile hamburger */}
                    <button
                        className="md:hidden text-slate-200 text-2xl"
                        onClick={() => setMobileOpen((prev) => !prev)}
                        aria-label="Toggle navigation"
                    >
                        ‚ò∞
                    </button>
                </div>

                {/* Mobile menu */}
                {mobileOpen && (
                    <div className="md:hidden border-t border-indigo-700/30 bg-black/70">
                        <nav className="px-6 py-4 space-y-3">
                            {links.map((l) => (
                                <a
                                    key={l}
                                    href="#"
                                    className="block text-sm text-slate-200 hover:text-white"
                                >
                                    {l}
                                </a>
                            ))}

                            <div className="mt-4 space-y-2">
                                <button
                                    className="block w-full text-left text-slate-200 hover:text-white"
                                    onClick={() => (window.location.href = "/login")}
                                >
                                    Sign in
                                </button>
                                <button
                                    className="block w-full mt-1 px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg"
                                    onClick={() => (window.location.href = "/partner/tasks")}
                                >
                                    Open Tasks
                                </button>
                            </div>
                        </nav>
                    </div>
                )}
            </div>
        </header>
    );
};

export default function PartnerDashboard(): JSX.Element | null {
    const [mounted, setMounted] = useState<boolean>(false);
    const [stats, setStats] = useState<PartnerStats>({});
    const [tasks, setTasks] = useState<Task[]>([]);
    const [loading, setLoading] = useState<boolean>(true);

    useEffect(() => {
        setMounted(true);
        (async () => {
            try {
                const p = (await apiFetch(
                    "/api/v1/partner/dashboard"
                ).catch(() => null)) as PartnerDashboardResponse | null;
                if (p) {
                    setStats(p);
                    setTasks(p.tasks || []);
                }
            } catch (e) {
                console.error(e);
            } finally {
                setLoading(false);
            }
        })();
    }, []);

    if (!mounted) return null;

    return (
        <>
            <NavBar />

            <main className="pt-28 min-h-screen bg-gradient-to-br from-brand-900 via-slate-900 to-black text-white relative overflow-hidden">
                <ParticleField />

                <section className="container mx-auto px-6 pb-16 relative z-10">
                    <div className="grid lg:grid-cols-3 gap-8 items-start">
                        {/* Left Column */}
                        <div className="lg:col-span-2 space-y-6">
                            {/* Overview Card */}
                            <div className={GLASS_CARD_DARK}>
                                <div className="flex justify-between items-start">
                                    <div>
                                        <div className={INLINE_BADGE}>
                                            <div className="w-2 h-2 bg-cyan-400 rounded-full animate-pulse" />
                                            <span className="text-sm font-semibold text-slate-200">
                                                Partner Overview
                                            </span>
                                        </div>

                                        <h2 className="mt-4 text-3xl font-black text-white">
                                            Operations
                                        </h2>
                                        <p className="text-slate-200 mt-2">
                                            Assigned tasks, pickups and collections in one place.
                                        </p>
                                    </div>

                                    <div className="flex gap-2">
                                        <button
                                            className="px-4 py-2 bg-indigo-600 rounded-lg text-white font-semibold"
                                            onClick={() =>
                                                (window.location.href = "/partner/tasks")
                                            }
                                        >
                                            Open Tasks
                                        </button>
                                        <button
                                            className="px-4 py-2 bg-white/10 rounded-lg text-white"
                                            onClick={() => {
                                                localStorage.removeItem("ff_token");
                                                window.location.href = "/login";
                                            }}
                                        >
                                            Logout
                                        </button>
                                    </div>
                                </div>

                                {/* Stats */}
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                                    {[
                                        { label: "Assigned Today", value: stats.assigned },
                                        { label: "Awaiting Pickup", value: stats.awaitingPickup },
                                        { label: "Delivered Today", value: stats.delivered },
                                    ].map((s, i) => (
                                        <div
                                            key={i}
                                            className="p-4 rounded-2xl bg-indigo-900/14 border border-indigo-700/12"
                                        >
                                            <div className="text-xs text-slate-300">{s.label}</div>
                                            <div className="text-2xl font-bold text-white">
                                                {s.value ?? "‚Äî"}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Tasks */}
                            <motion.div
                                initial="hidden"
                                animate="show"
                                variants={itemAnim}
                                className={GLASS_CARD_DARK}
                            >
                                <div className="flex items-center justify-between">
                                    <div>
                                        <h3 className="text-xl font-bold text-white">
                                            Today's Tasks
                                        </h3>
                                        <p className="text-slate-200 text-sm">
                                            Manage pickups and update statuses quickly.
                                        </p>
                                    </div>
                                    <button
                                        className="px-4 py-2 bg-cyan-500 rounded-lg text-black font-semibold"
                                        onClick={() =>
                                            (window.location.href = "/partner/tasks")
                                        }
                                    >
                                        Open Tasks
                                    </button>
                                </div>

                                {/* List */}
                                <div className="mt-6 space-y-3">
                                    {loading ? (
                                        <div className="text-slate-300">Loading tasks‚Ä¶</div>
                                    ) : tasks.length === 0 ? (
                                        <div className="text-slate-300">
                                            No tasks for today.
                                        </div>
                                    ) : (
                                        tasks.slice(0, 6).map((t) => (
                                            <div
                                                key={t.id || t.awb}
                                                className="flex justify-between items-center p-3 rounded-xl bg-indigo-900/12 border border-indigo-700/10"
                                            >
                                                <div>
                                                    <div className="font-medium text-white">
                                                        {t.awb || t.id}
                                                    </div>
                                                    <div className="text-xs text-slate-300">
                                                        {t.to?.city || t.to?.address}
                                                    </div>
                                                </div>
                                                <div className="text-xs text-slate-300">
                                                    {t.status}
                                                </div>
                                            </div>
                                        ))
                                    )}
                                </div>
                            </motion.div>

                            {/* Reconciliation */}
                            <motion.div
                                initial="hidden"
                                animate="show"
                                variants={itemAnim}
                                className={GLASS_CARD_DARK}
                            >
                                <h3 className="text-xl font-bold text-white">
                                    Reconciliation
                                </h3>
                                <p className="text-slate-200 text-sm mt-1">
                                    View recent collections and request payouts.
                                </p>

                                <div className="mt-4 flex gap-2">
                                    <button
                                        className="px-4 py-2 bg-white/10 rounded-lg text-white"
                                        onClick={() =>
                                            (window.location.href = "/partner/collections")
                                        }
                                    >
                                        Collections
                                    </button>
                                    <button
                                        className="px-4 py-2 bg-cyan-500 rounded-lg text-black"
                                        onClick={() =>
                                            (window.location.href = "/partner/payout")
                                        }
                                    >
                                        Request Payout
                                    </button>
                                </div>
                            </motion.div>
                        </div>

                        {/* Right Sidebar */}
                        <aside className="space-y-6">
                            {/* Earnings */}
                            <div className={GLASS_CARD_LIGHT}>
                                <div className="text-xs text-slate-700">
                                    Earnings (month)
                                </div>
                                <div className="mt-2 text-black text-2xl">
                                    ‚Çπ {stats.earnings ?? "‚Äî"}
                                </div>
                            </div>

                            {/* Fleet */}
                            <div className={GLASS_CARD_LIGHT}>
                                <div className="text-xs text-slate-700">Fleet</div>
                                <div className="mt-2 text-black">
                                    {stats.fleetName || "No fleet set"}
                                </div>
                            </div>

                            {/* Quick Actions */}
                            <div className={GLASS_CARD_LIGHT}>
                                <div className="text-xs text-slate-700">
                                    Quick Actions
                                </div>
                                <div className="mt-3 grid gap-2">
                                    <button
                                        className="px-3 py-2 rounded bg-indigo-50 text-slate-900 hover:bg-indigo-100 transition"
                                        onClick={() =>
                                            (window.location.href = "/partner/new-pickup")
                                        }
                                    >
                                        New Pickup
                                    </button>
                                    <button
                                        className="px-3 py-2 rounded bg-indigo-50 text-slate-900 hover:bg-indigo-100 transition"
                                        onClick={() =>
                                            (window.location.href = "/partner/scan")
                                        }
                                    >
                                        Scan & Update
                                    </button>
                                </div>
                            </div>

                            {/* Driver Section */}
                            <div className={GLASS_CARD_LIGHT}>
                                <div className="text-xs text-slate-700">
                                    Driver Section
                                </div>

                                <div className="mt-3 grid gap-4">
                                    <div>
                                        <label className="block text-xs text-slate-600 mb-1">
                                            Driver Name
                                        </label>
                                        <input
                                            className="w-full px-3 py-2 rounded bg-indigo-50 border border-indigo-200 text-slate-900"
                                            placeholder="Enter driver name"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-xs text-slate-600 mb-1">
                                            Phone Number
                                        </label>
                                        <input
                                            className="w-full px-3 py-2 rounded bg-indigo-50 border border-indigo-200 text-slate-900"
                                            placeholder="+91 98765 43210"
                                        />
                                    </div>

                                    <button
                                        className="px-3 py-2 rounded bg-cyan-500 text-black font-semibold hover:bg-cyan-400 transition"
                                        onClick={() =>
                                            alert("Driver Added! (Backend connection pending)")
                                        }
                                    >
                                        Add Driver
                                    </button>
                                </div>
                            </div>
                        </aside>
                    </div>
                </section>

                <footer className="bg-transparent text-slate-300 py-8 border-t border-indigo-700/8 relative z-10">
                    <div className="container mx-auto px-6 text-sm flex justify-between">
                        <div>¬© 2025 FastFare. All rights reserved.</div>
                        <div className="flex gap-6">
                            <a className="hover:text-white">Privacy</a>
                            <a className="hover:text-white">Terms</a>
                        </div>
                    </div>
                </footer>
            </main>
        </>
    );
}
</file>

<file path="src/pages/DashboardUser.tsx">
import React, { useEffect, useRef, useState, type JSX } from "react";
import { motion, AnimatePresence } from "framer-motion";
import ParticleField from "../components/ParticleField";
import logo from "../assets/logo.png";

import {
    Truck,
    Wallet,
    Bell,
    Shield,
    Clock,
    MapPin,
    Package,
    ArrowRight,
    CheckCircle2,
    Star,
    type LucideIcon,
    Phone,
    Mail,
    Globe,
} from "lucide-react";

// type LucideIcon = (props: React.SVGProps<SVGSVGElement>) => JSX.Element;

interface Testimonial {
    quote: string;
    author: string;
    role: string;
    company: string;
    rating: number;
}

interface Feature {
    icon: LucideIcon;
    title: string;
    desc: string;
}

interface StatItem {
    value: string;
    label: string;
    icon: LucideIcon;
}

const testimonials: Testimonial[] = [
    {
        quote:
            "FastFare digital wallet system has simplified our payment processes significantly. Fast, secure, and professional service.",
        author: "Amit Patel",
        role: "Logistics Head",
        company: "Healthcare Distributors",
        rating: 5,
    },
    {
        quote:
            "12-hour guaranteed delivery between Delhi-Jaipur changed how we plan inventory. Never going back to traditional logistics.",
        author: "Priya Sharma",
        role: "Operations Director",
        company: "E-Commerce Giant",
        rating: 5,
    },
    {
        quote:
            "Real-time tracking with driver verification gives us complete peace of mind. Best B2B logistics partner we've had.",
        author: "Rajesh Kumar",
        role: "Supply Chain Manager",
        company: "Manufacturing Corp",
        rating: 5,
    },
    {
        quote: "FastFare delivers our shipments reliably every time without fail.",
        author: "Sonal Mehta",
        role: "Procurement Lead",
        company: "Retail Chain",
        rating: 5,
    },
    {
        quote:
            "Transparent pricing and predictable delivery windows ‚Äî great for our inventory planning.",
        author: "Karan Verma",
        role: "Inventory Manager",
        company: "Electronics Pvt Ltd",
        rating: 5,
    },
    {
        quote: "Verified drivers and quick support make operations frictionless.",
        author: "Nisha Rao",
        role: "Head - Operations",
        company: "Pharma Logistics",
        rating: 5,
    },
];

const features: Feature[] = [
    {
        icon: Wallet,
        title: "Digital Wallet System",
        desc: "Seamless payment processing with instant wallet recharge and transaction history.",
    },
    {
        icon: Bell,
        title: "Instant Notifications",
        desc: "Real-time SMS, email, and push notifications at every milestone.",
    },
    {
        icon: Shield,
        title: "Verified Driver Network",
        desc: "Every driver is background-verified with insurance coverage for maximum security.",
    },
    {
        icon: Truck,
        title: "Live GPS Tracking",
        desc: "Monitor shipments in real-time with accurate ETA predictions and route visualization.",
    },
];

const stats: StatItem[] = [
    { value: "50,000+", label: "Shipments Delivered", icon: Package },
    { value: "1,200+", label: "Happy Businesses", icon: Truck },
    { value: "10 Hours", label: "Avg Delivery Time", icon: Clock },
    { value: "99.2%", label: "On-Time Rate", icon: CheckCircle2 },
];

function LandingPage(): JSX.Element | null {
    const [mounted, setMounted] = useState<boolean>(false);
    const [activeFeature, setActiveFeature] = useState<number>(0);
    const [isPaused, setIsPaused] = useState<boolean>(false);
    const autoplayRef = useRef<number | null>(null);
    const featuresCount = features.length;
    const [showCustom, setShowCustom] = useState<boolean>(false);

    useEffect(() => {
        setMounted(true);
        if (typeof window === "undefined") return;

        const mq = window.matchMedia("(prefers-color-scheme: dark)");

        const apply = (dark: boolean) => {
            if (dark) document.documentElement.classList.add("dark");
            else document.documentElement.classList.remove("dark");
        };

        apply(mq.matches);

        const onChange = (e: MediaQueryListEvent) => apply(e.matches);

        if (mq.addEventListener) mq.addEventListener("change", onChange);
        else mq.addListener(onChange);

        return () => {
            if (mq.removeEventListener) mq.removeEventListener("change", onChange);
            else mq.removeListener(onChange);
        };
    }, []);

    useEffect(() => {
        if (typeof window === "undefined") return;

        const delayMs = 4200;
        if (autoplayRef.current) {
            window.clearInterval(autoplayRef.current);
            autoplayRef.current = null;
        }
        if (!isPaused) {
            autoplayRef.current = window.setInterval(() => {
                setActiveFeature((prev) => (prev + 1) % featuresCount);
            }, delayMs);
        }
        return () => {
            if (autoplayRef.current) {
                window.clearInterval(autoplayRef.current);
                autoplayRef.current = null;
            }
        };
    }, [isPaused, featuresCount]);

    if (!mounted) return null;

    const NavBar: React.FC = () => {
        const [mobileOpen, setMobileOpen] = useState<boolean>(false);

        return (
            <header className="fixed inset-x-0 top-0 z-30">
                <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
                    <div className="container mx-auto px-6 py-4 flex items-center justify-between">
                        <div className="flex items-center gap-4">
                            <img src={logo} alt="FastFare" width={40} height={40} />
                            <div className="text-white font-extrabold text-lg">FastFare</div>
                        </div>

                        {/* Desktop nav */}
                        <nav className="hidden md:flex items-center gap-8">
                            <a
                                href="/"
                                className="text-white underline underline-offset-8 decoration-cyan-400"
                            >
                                Home
                            </a>
                            <a
                                href="/user/new-shipment"
                                className="text-slate-200 hover:text-white"
                            >
                                Book Shipment
                            </a>
                            <a href="#" className="text-slate-200 hover:text-white">
                                Track
                            </a>
                            <a href="#" className="text-slate-200 hover:text-white">
                                Wallet
                            </a>
                            <a href="#" className="text-slate-200 hover:text-white">
                                Pricing
                            </a>
                            <a href="#" className="text-slate-200 hover:text-white">
                                Contact
                            </a>
                        </nav>

                        {/* Desktop actions */}
                        <div className="hidden md:flex items-center gap-4">
                            <a
                                href="/login"
                                className="text-slate-200 hover:text-white"
                            >
                                Sign in
                            </a>
                            <a
                                href="/register"
                                className="px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg hover:scale-105 transition"
                            >
                                Get Started
                            </a>
                        </div>

                        {/* Mobile hamburger */}
                        <button
                            className="md:hidden text-slate-200 text-2xl"
                            onClick={() => setMobileOpen((prev) => !prev)}
                            aria-label="Toggle navigation"
                        >
                            ‚ò∞
                        </button>
                    </div>

                    {/* Mobile menu */}
                    {mobileOpen && (
                        <div className="md:hidden border-t border-indigo-700/30 bg-black/70">
                            <nav className="px-6 py-4 space-y-3">
                                <a href="/" className="block text-slate-200 hover:text-white">
                                    Home
                                </a>
                                <a
                                    href="/user/new-shipment"
                                    className="block text-slate-200 hover:text-white"
                                >
                                    Book Shipment
                                </a>
                                <a href="#" className="block text-slate-200 hover:text-white">
                                    Track
                                </a>
                                <a href="#" className="block text-slate-200 hover:text-white">
                                    Wallet
                                </a>
                                <a href="#" className="block text-slate-200 hover:text-white">
                                    Pricing
                                </a>
                                <a href="#" className="block text-slate-200 hover:text-white">
                                    Contact
                                </a>

                                <hr className="my-3 border-indigo-700/40" />

                                <a
                                    href="/login"
                                    className="block text-slate-200 hover:text-white mb-2"
                                >
                                    Sign in
                                </a>
                                <a
                                    href="/register"
                                    className="block px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg text-center"
                                >
                                    Get Started
                                </a>
                            </nav>
                        </div>
                    )}
                </div>
            </header>
        );
    };

    const GLASS_CARD_DARK =
        "glass-card p-8 rounded-3xl border border-indigo-600/20 backdrop-blur-xl shadow-2xl bg-indigo-900/6 text-white";
    const GLASS_CARD_LIGHT =
        "glass-card p-8 rounded-3xl border border-indigo-200/40 backdrop-blur-xl shadow-2xl bg-white/90 text-black";
    const INLINE_BADGE =
        "inline-flex items-center gap-3 bg-indigo-700/10 backdrop-blur rounded-full px-5 py-2 border border-indigo-600/10";

    return (
        <>
            <NavBar />

            {/* HERO */}
            <section className="relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-brand-900 via-slate-900 to-black text-white pt-24">
                <ParticleField />

                <div className="container mx-auto px-6 relative z-10">
                    <div className="grid lg:grid-cols-2 gap-12 items-center">
                        {/* Left column */}
                        <motion.div
                            initial={{ opacity: 0, y: 30 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.8 }}
                            className="space-y-8"
                        >
                            <div className={INLINE_BADGE}>
                                <div className="w-2 h-2 bg-cyan-400 rounded-full animate-pulse" />
                                <span className="text-sm font-semibold text-slate-100">
                                    Enterprise Logistics Platform
                                </span>
                            </div>

                            <h1 className="text-5xl md:text-7xl font-black leading-tight">
                                Lightning-Fast <br />
                                <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-white">
                                    B2B Logistics
                                </span>
                            </h1>

                            <p className="text-xl text-slate-200 max-w-2xl">
                                Guaranteed 12-hour delivery between Delhi ‚Üî Jaipur. Professional,
                                reliable, and transparent logistics solutions built for modern
                                enterprises.
                            </p>

                            <div className="flex flex-wrap gap-4">
                                <a
                                    href="/user/new-shipment"
                                    className="btn-premium px-8 py-5 text-lg font-bold shadow-2xl hover:shadow-cyan-500/25 transition-all flex items-center gap-3 group bg-indigo-600"
                                >
                                    Book Shipment{" "}
                                    <ArrowRight className="w-6 h-6 group-hover:translate-x-2 transition" />
                                </a>
                                <a
                                    href="/tracking"
                                    className="bg-indigo-900/20 backdrop-blur-lg border border-indigo-700/30 text-white px-8 py-5 rounded-2xl font-semibold hover:bg-indigo-900/30 transition"
                                >
                                    Track Package
                                </a>
                            </div>

                            <div className="flex flex-wrap gap-6 items-center pt-8">
                                <div className="flex -space-x-3">
                                    {["A", "B", "C", "D"].map((l, i) => (
                                        <div
                                            key={i}
                                            className="w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-indigo-600 text-white flex items-center justify-center font-bold text-lg border-2 border-indigo-700/20"
                                        >
                                            {l}
                                        </div>
                                    ))}
                                </div>
                                <div>
                                    <div className="text-2xl font-bold">
                                        1,200+ Businesses Trust Us
                                    </div>
                                    <div className="flex gap-1 mt-2 items-center">
                                        {[...Array(5)].map((_, i) => (
                                            <Star
                                                key={i}
                                                className="w-5 h-5 fill-yellow-400 text-yellow-400"
                                            />
                                        ))}
                                        <span className="ml-2 font-semibold">4.9/5 Rating</span>
                                    </div>
                                </div>
                            </div>
                        </motion.div>

                        {/* Right column */}
                        <motion.div
                            initial={{ opacity: 0, scale: 0.95 }}
                            animate={{ opacity: 1, scale: 1 }}
                            transition={{ delay: 0.4, duration: 0.8 }}
                            className="relative"
                        >
                            <div className={GLASS_CARD_LIGHT}>
                                <div className="flex justify-between items-start mb-6">
                                    <div>
                                        <h3 className="text-2xl font-bold text-black">
                                            Your Shipment Journey
                                        </h3>
                                        <p className="text-sm text-slate-600 mt-1">
                                            Live tracking active ‚Ä¢ ETA: 4 hours
                                        </p>
                                    </div>
                                    <div className="text-4xl">üöö</div>
                                </div>

                                <div className="space-y-8 text-slate-800">
                                    <div className="flex items-center gap-4">
                                        <CheckCircle2 className="w-10 h-10 text-green-500" />
                                        <div>
                                            <div className="font-semibold text-black">Picked Up</div>
                                            <div className="text-sm text-slate-600">
                                                Delhi Hub - Sector 18
                                            </div>
                                        </div>
                                        <span className="ml-auto text-sm font-medium text-green-600">
                                            Completed
                                        </span>
                                    </div>

                                    <div className="relative pl-14">
                                        <div className="absolute left-5 top-0 bottom-0 w-0.5 bg-indigo-300" />
                                        <div className="relative">
                                            <div className="absolute -left-9 top-1 w-6 h-6 bg-indigo-400 rounded-full flex items-center justify-center">
                                                <Truck className="w-4 h-4 text-white" />
                                            </div>
                                            <div className="font-semibold text-black">In Transit</div>
                                            <div className="text-sm text-slate-600">NH-48 Highway</div>
                                            <div className="mt-3 w-full bg-indigo-200 rounded-full h-3 overflow-hidden">
                                                <motion.div
                                                    initial={{ width: 0 }}
                                                    animate={{ width: "68%" }}
                                                    transition={{ duration: 2, ease: "easeOut" }}
                                                    className="h-full bg-gradient-to-r from-cyan-400 to-indigo-500"
                                                />
                                            </div>
                                            <div className="text-right text-sm text-slate-600 mt-1">
                                                68% ‚Ä¢ 280 km route
                                            </div>
                                        </div>
                                    </div>

                                    <a
                                        href="/tracking/12345"
                                        className="block text-center py-4 bg-transparent rounded-2xl font-semibold hover:bg-indigo-50 transition text-slate-700"
                                    >
                                        View Live Tracking ‚Üí
                                    </a>
                                </div>
                            </div>
                        </motion.div>
                    </div>
                </div>
            </section>


            {/* STATS */}
            <section className="py-20 bg-gradient-to-b from-slate-900 to-black text-white">
                <div className="container mx-auto px-6">
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
                        {stats.map((stat, i) => {
                            const StatIcon = stat.icon;
                            return (
                                <motion.div
                                    key={i}
                                    initial={{ opacity: 0, y: 30 }}
                                    whileInView={{ opacity: 1, y: 0 }}
                                    transition={{ delay: i * 0.1 }}
                                    className="text-center group"
                                >
                                    <div className="inline-flex p-6 rounded-3xl bg-indigo-900/8 backdrop-blur-lg border border-indigo-700/20 mb-4 group-hover:scale-110 transition-transform">
                                        <StatIcon className="w-12 h-12 text-cyan-400" />
                                    </div>
                                    <div className="text-4xl md:text-5xl font-black">
                                        {stat.value}
                                    </div>
                                    <div className="text-slate-400 mt-2">{stat.label}</div>
                                </motion.div>
                            );
                        })}
                    </div>
                </div>
            </section>

            {/* PRIMARY ROUTE */}
            <section className="py-24 bg-gradient-to-b from-slate-900 via-brand-900 to-black text-white">
                <div className="container mx-auto px-6 text-center">
                    <h2 className="text-5xl font-black mb-4">Primary Route Coverage</h2>
                    <p className="text-xl text-slate-400 mb-16">
                        Connecting major business hubs with guaranteed delivery times
                    </p>

                    <motion.div
                        initial={{ opacity: 0, y: 40 }}
                        whileInView={{ opacity: 1, y: 0 }}
                        className={`${GLASS_CARD_DARK} max-w-4xl mx-auto p-12 rounded-3xl`}
                    >
                        <div className="grid md:grid-cols-3 items-center gap-8">
                            <div className="text-center">
                                <div className="w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-cyan-400 to-white flex items-center justify-center mb-4">
                                    <MapPin className="w-16 h-16 text-slate-900" />
                                </div>
                                <div className="text-3xl font-bold">Delhi</div>
                                <div className="text-slate-400">Pickup Hub</div>
                            </div>

                            <div className="text-center">
                                <div className="inline-flex items-center gap-4">
                                    <div className="h-1 w-24 bg-gradient-to-r from-cyan-400 to-indigo-500" />
                                    <div className="w-20 h-20 rounded-full bg-gradient-to-br from-indigo-600 to-cyan-400 flex flex-col items-center justify-center text-white font-bold shadow-2xl">
                                        <span className="text-3xl">12</span>
                                        <span className="text-xs">Hours</span>
                                    </div>
                                    <div className="h-1 w-24 bg-gradient-to-r from-indigo-500 to-cyan-400" />
                                </div>
                                <div className="mt-4 text-sm text-slate-400">280+ km route</div>
                            </div>

                            <div className="text-center">
                                <div className="w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-indigo-600 to-white flex items-center justify-center mb-4">
                                    <MapPin className="w-16 h-16 text-slate-900" />
                                </div>
                                <div className="text-3xl font-bold">Jaipur</div>
                                <div className="text-slate-400">Delivery Hub</div>
                            </div>
                        </div>

                        <div className="grid grid-cols-3 gap-8 mt-12">
                            {[
                                { icon: Clock, label: "12-Hour Delivery", sub: "Guaranteed Timeline" },
                                { icon: Shield, label: "100% Insured", sub: "Complete Coverage" },
                                { icon: CheckCircle2, label: "99.2% Success", sub: "On-Time Delivery" },
                            ].map((item, i) => {
                                const ItemIcon = item.icon;
                                return (
                                    <div key={i} className="text-center">
                                        <ItemIcon className="w-12 h-12 mx-auto mb-4 text-cyan-400" />
                                        <div className="text-xl font-bold">{item.label}</div>
                                        <div className="text-slate-400">{item.sub}</div>
                                    </div>
                                );
                            })}
                        </div>
                    </motion.div>
                </div>
            </section>

            {/* FEATURES */}
            <section
                className="py-24 bg-black text-white"
                onMouseEnter={() => setIsPaused(true)}
                onMouseLeave={() => setIsPaused(false)}
                onFocus={() => setIsPaused(true)}
                onBlur={() => setIsPaused(false)}
            >
                <div className="container mx-auto px-6 text-center">
                    <div className="mb-8">
                        <div className="text-sm text-slate-400 uppercase mb-2">
                            Process
                        </div>
                        <h2 className="text-5xl font-black mb-4">
                            Why Leading Businesses Choose FastFare
                        </h2>
                        <p className="text-xl text-slate-400">
                            Enterprise-grade features designed for modern B2B logistics
                            operations
                        </p>
                    </div>

                    <div className="flex items-center justify-between max-w-6xl mx-auto mb-6">
                        <div />
                        <div className="flex items-center gap-3">
                            <button
                                aria-label="Previous feature"
                                onClick={() =>
                                    setActiveFeature(
                                        (prev) => (prev - 1 + features.length) % features.length
                                    )
                                }
                                className="p-2 rounded-md bg-indigo-900/10 hover:bg-indigo-900/20 transition"
                            >
                                ‚Äπ
                            </button>
                            <div className="flex items-center gap-2">
                                {features.map((_, i) => (
                                    <button
                                        key={i}
                                        aria-label={`Go to feature ${i + 1}`}
                                        onClick={() => setActiveFeature(i)}
                                        className={`w-3 h-3 rounded-full ${i === activeFeature
                                            ? "bg-cyan-400"
                                            : "bg-indigo-800/40"
                                            } transition`}
                                    />
                                ))}
                            </div>
                            <button
                                aria-label="Next feature"
                                onClick={() =>
                                    setActiveFeature((prev) => (prev + 1) % features.length)
                                }
                                className="p-2 rounded-md bg-indigo-900/10 hover:bg-indigo-900/20 transition"
                            >
                                ‚Ä∫
                            </button>
                        </div>
                    </div>

                    <div className="grid md:grid-cols-4 gap-8 mt-6 max-w-6xl mx-auto">
                        {features.map((feature, i) => {
                            const Icon = feature.icon;
                            const isActive = i === activeFeature;
                            return (
                                <motion.div
                                    key={i}
                                    layout
                                    initial={{ opacity: 0, y: 20 }}
                                    animate={{
                                        opacity: 1,
                                        y: isActive ? -6 : 0,
                                        scale: isActive ? 1.03 : 1,
                                    }}
                                    transition={{
                                        type: "spring",
                                        stiffness: 120,
                                        damping: 16,
                                        duration: 0.6,
                                    }}
                                    className={`relative overflow-hidden rounded-3xl p-12 flex flex-col items-center justify-start gap-6 shadow-lg border ${isActive
                                        ? "border-cyan-400/30 bg-slate-100 text-slate-900 ring-2 ring-cyan-400/10"
                                        : "border-slate-200 bg-slate-100 text-slate-900"
                                        }`}
                                >
                                    <AnimatePresence>
                                        {isActive && (
                                            <motion.div
                                                aria-hidden
                                                initial={{ opacity: 0, scale: 0.8 }}
                                                animate={{ opacity: 0.08, scale: 1.4 }}
                                                exit={{ opacity: 0, scale: 0.8 }}
                                                transition={{ duration: 0.8 }}
                                                className="absolute inset-0 bg-gradient-to-br from-cyan-400 to-indigo-600 pointer-events-none"
                                                style={{ mixBlendMode: "multiply", borderRadius: 20 }}
                                            />
                                        )}
                                    </AnimatePresence>

                                    <div className="relative z-10 w-20 h-20 rounded-2xl flex items-center justify-center bg-gradient-to-br from-cyan-400 to-indigo-600 shadow-md">
                                        <Icon className="w-10 h-10 text-white" />
                                    </div>

                                    <h3 className="relative z-10 text-2xl font-extrabold">
                                        {feature.title}
                                    </h3>
                                    <p className="relative z-10 text-slate-600 max-w-[20rem] leading-relaxed">
                                        {feature.desc}
                                    </p>

                                    {isActive && (
                                        <motion.a
                                            layout
                                            href="/features"
                                            initial={{ opacity: 0, y: 6 }}
                                            animate={{ opacity: 1, y: 0 }}
                                            transition={{ delay: 0.12 }}
                                            className="mt-4 z-10 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-900/10 hover:bg-indigo-900/20 text-sm font-semibold"
                                        >
                                            Learn more ‚Üí
                                        </motion.a>
                                    )}
                                </motion.div>
                            );
                        })}
                    </div>
                </div>
            </section>

            {/* HOW IT WORKS */}
            <section className="py-24 bg-gradient-to-b from-black to-slate-900 text-white">
                <div className="container mx-auto px-6 text-center">
                    <h2 className="text-5xl font-black mb-6">How FastFare Works</h2>
                    <p className="text-xl text-slate-400 mb-16">
                        Three simple steps to reliable, fast logistics
                    </p>

                    <div className="grid md:grid-cols-3 gap-12 max-w-6xl mx-auto">
                        {[
                            {
                                step: "01",
                                title: "Book Your Shipment",
                                desc: "Enter pickup and delivery details, select service type, and confirm your booking in under 2 minutes.",
                                icon: Package,
                            },
                            {
                                step: "02",
                                title: "Track in Real-Time",
                                desc: "Monitor your shipment journey with live GPS tracking and milestone updates.",
                                icon: MapPin,
                            },
                            {
                                step: "03",
                                title: "Receive & Confirm",
                                desc: "Get your package delivered on time with digital proof of delivery and automatic confirmation.",
                                icon: CheckCircle2,
                            },
                        ].map((item, i) => {
                            const StepIcon = item.icon;
                            return (
                                <motion.div
                                    key={i}
                                    initial={{ opacity: 0, y: 40 }}
                                    whileInView={{ opacity: 1, y: 0 }}
                                    transition={{ delay: i * 0.12 }}
                                    className="relative"
                                >
                                    <div className="text-9xl font-black text-white/5 absolute -top-10 left-1/2 -translate-x-1/2">
                                        {item.step}
                                    </div>
                                    <div className="relative bg-indigo-900/6 backdrop-blur-lg border border-indigo-700/20 rounded-3xl p-12 hover:border-cyan-500/50 transition-all">
                                        <div className="text-8xl mb-8">
                                            <StepIcon className="w-20 h-20" />
                                        </div>
                                        <h3 className="text-3xl font-bold mb-4">{item.title}</h3>
                                        <p className="text-slate-400 text-lg">{item.desc}</p>
                                    </div>
                                </motion.div>
                            );
                        })}
                    </div>
                </div>
            </section>

            {/* RATES */}
            <section className="py-20 bg-white text-slate-900">
                <div className="container mx-auto px-6">
                    <div className="mt-6 text-center rounded-lg mb-10 bg-slate-100 p-3">
                        <button
                            className={`px-4 py-2 rounded-lg font-medium ${!showCustom ? "bg-white" : "text-slate-600"
                                }`}
                            onClick={() => setShowCustom(false)}
                        >
                            Recommended
                        </button>

                        <button
                            className={`px-4 py-2 rounded-lg font-medium ${showCustom ? "bg-white" : "text-slate-600"
                                }`}
                            onClick={() => setShowCustom(true)}
                        >
                            Custom your package
                        </button>
                    </div>
                    {showCustom && (
                        <div className="border rounded-xl p-8 bg-slate-50 mt-10">

                            <h3 className="text-2xl font-bold mb-6">Custom Package Builder</h3>

                            <div className="grid md:grid-cols-2 gap-6">

                                <div>
                                    <label className="block mb-2 text-slate-700">Weight (kg)</label>
                                    <input
                                        className="w-full p-2 bg-white border rounded"
                                        placeholder="Enter weight"
                                    />
                                </div>

                                <div>
                                    <label className="block mb-2 text-slate-700">Dimensions (cm)</label>
                                    <input
                                        className="w-full p-2 bg-white border rounded"
                                        placeholder="L √ó W √ó H"
                                    />
                                </div>

                                <div>
                                    <label className="block mb-2 text-slate-700">Package Type</label>
                                    <select className="w-full p-2 bg-white border rounded">
                                        <option>Document</option>
                                        <option>Parcel</option>
                                        <option>Electronics</option>
                                        <option>Fragile Items</option>
                                    </select>
                                </div>

                                <div>
                                    <label className="block mb-2 text-slate-700">Declared Value (‚Çπ)</label>
                                    <input
                                        className="w-full p-2 bg-white border rounded"
                                        placeholder="e.g., 8000"
                                    />
                                </div>
                            </div>

                            <button className="mt-6 px-4 py-2 bg-cyan-500 text-black font-semibold rounded">
                                Calculate Price ‚Üí
                            </button>
                        </div>
                    )}


                    <div className="grid md:grid-cols-2 gap-8">
                        <div className="border rounded-xl p-8 bg-slate-50">
                            <div className="flex items-start gap-4 mb-6">
                                <div className="text-2xl font-bold">‚Çπ500</div>
                                <div className="flex-1">
                                    <div className="text-2xl font-black">
                                        Parcel size up to
                                        <br />
                                        25√ó25√ó25cm
                                    </div>
                                </div>
                            </div>

                            <hr className="my-6" />

                            <ul className="space-y-3 text-slate-700">
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>12-hour guaranteed delivery</div>
                                </li>
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Live tracking throughout journey</div>
                                </li>
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Verified driver assigned</div>
                                </li>
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Proof of delivery included</div>
                                </li>
                            </ul>

                            <div className="mt-8">
                                <a
                                    href="/book"
                                    className="block text-center py-4 bg-gradient-to-r from-cyan-600 to-indigo-600 text-white rounded-lg font-bold"
                                >
                                    Book your parcel now
                                </a>
                            </div>
                        </div>

                        <div className="border rounded-xl p-8 bg-slate-50">
                            <div className="flex items-start gap-4 mb-6">
                                <div className="text-2xl font-bold">‚Çπ700</div>
                                <div className="flex-1">
                                    <div className="text-2xl font-black">
                                        Parcel size up to
                                        <br />
                                        50√ó50√ó50cm
                                    </div>
                                </div>
                            </div>

                            <hr className="my-6" />

                            <ul className="space-y-3 text-slate-700">
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Direct driver communication</div>
                                </li>
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Real-time SMS updates</div>
                                </li>
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Feature text goes here</div>
                                </li>
                                <li className="flex items-start gap-3">
                                    <div className="w-6 h-6 rounded-full bg-cyan-600 text-white flex items-center justify-center">
                                        ‚úì
                                    </div>
                                    <div>Same-day delivery guaranteed</div>
                                </li>
                            </ul>

                            <div className="mt-8">
                                <a
                                    href="/book"
                                    className="block text-center py-4 bg-gradient-to-r from-cyan-600 to-indigo-600 text-white rounded-lg font-bold"
                                >
                                    Book your parcel now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            {/* TESTIMONIALS */}
            <section className="py-20 bg-slate-900 text-white">
                <div className="container mx-auto px-6">
                    <h2 className="text-4xl md:text-5xl font-black text-center mb-4">
                        Customer testimonials
                    </h2>
                    <p className="text-center text-slate-400 mb-10">
                        Positive reviews Of Our Users.
                    </p>

                    <div className="grid md:grid-cols-3 gap-8">
                        {testimonials.map((t, i) => (
                            <motion.div
                                key={i}
                                initial={{ opacity: 0, y: 20 }}
                                whileInView={{ opacity: 1, y: 0 }}
                                transition={{ delay: i * 0.06 }}
                                className="bg-indigo-800/75 p-6 rounded-lg shadow-inner relative border border-indigo-700/40"
                            >
                                <div className="absolute -top-4 right-4 text-sm font-semibold bg-indigo-700/60 rounded px-3 py-1">
                                    ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
                                </div>
                                <p className="mb-6 leading-relaxed text-slate-100">
                                    "{t.quote}"
                                </p>
                                <div className="flex items-center gap-4">
                                    <div className="w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-indigo-600 flex items-center justify-center text-white font-bold">
                                        {t.author
                                            .split(" ")
                                            .map((n) => n[0])
                                            .join("")}
                                    </div>
                                    <div>
                                        <div className="font-bold">{t.author}</div>
                                        <div className="text-sm text-slate-300">
                                            {t.role}, {t.company}
                                        </div>
                                    </div>
                                </div>
                            </motion.div>
                        ))}
                    </div>
                </div>
            </section>

            {/* CTA */}
            <section className="py-24 bg-gradient-to-r from-cyan-600 to-indigo-700 text-white">
                <div className="container mx-auto px-6 text-center">
                    <h2 className="text-5xl md:text-6xl font-black mb-6">
                        Ready to Transform Your Logistics?
                    </h2>
                    <p className="text-2xl text-white/90 mb-12">
                        Join 1,200+ businesses already shipping smarter with FastFare
                    </p>
                    <div className="flex flex-wrap justify-center gap-6">
                        <a
                            href="/register"
                            className="bg-white text-brand-700 px-12 py-6 rounded-2xl text-xl font-bold hover:shadow-2xl transition-all hover:scale-105"
                        >
                            Start Shipping Now <ArrowRight className="inline ml-2" />
                        </a>
                        <a
                            href="/contact"
                            className="bg-white/20 backdrop-blur-lg border-2 border-white text-white px-12 py-6 rounded-2xl text-xl font-bold hover:bg-white/30 transition"
                        >
                            Talk to Sales
                        </a>
                    </div>
                </div>
            </section>

            {/* FOOTER */}
            <footer className="bg-black text-slate-400 py-16 border-t border-indigo-700/10">
                <div className="container mx-auto px-6">
                    <div className="grid md:grid-cols-4 gap-12">
                        <div>
                            <div className="flex items-center gap-3 mb-6">
                                <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold">
                                    FF
                                </div>
                                <span className="text-2xl font-bold text-white">FastFare</span>
                            </div>
                            <p className="mb-6 text-slate-300">
                                Enterprise-grade B2B logistics solutions delivering speed,
                                reliability, and transparency for modern businesses.
                            </p>

                            <div className="text-sm text-slate-300 mb-3">
                                Get the latest news on FastFare features, routes, and logistics
                                innovations delivered to your inbox.
                            </div>
                            <div className="flex gap-2">
                                <input
                                    aria-label="email"
                                    type="email"
                                    placeholder="Enter your email"
                                    className="flex-1 px-4 py-3 rounded-l-lg focus:outline-none text-slate-900"
                                />
                                <button className="px-4 py-3 bg-cyan-400 text-black rounded-r-lg font-semibold">
                                    Subscribe
                                </button>
                            </div>
                            <div className="text-xs text-slate-400/70 mt-2">
                                By subscribing you agree to our Privacy Policy and consent to
                                receive updates from FastFare.
                            </div>
                        </div>

                        <div>
                            <h4 className="text-white font-bold mb-4">Product</h4>
                            <ul className="space-y-2 text-sm text-slate-300">
                                <li>
                                    <a href="user/new-shipment" className="hover:underline">
                                        Book shipment
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Track order
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Pricing
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Routes
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Wallet
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h4 className="text-white font-bold mb-4">Company</h4>
                            <ul className="space-y-2 text-sm text-slate-300">
                                <li>
                                    <a href="#" className="hover:underline">
                                        About us
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Careers
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Contact
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Testimonials
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Blog
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h4 className="text-white font-bold mb-4">Legal</h4>
                            <ul className="space-y-2 text-sm text-slate-300">
                                <li>
                                    <a href="#" className="hover:underline">
                                        Privacy policy
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Terms of service
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Shipping policy
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Cookie settings
                                    </a>
                                </li>
                                <li>
                                    <a href="#" className="hover:underline">
                                        Updates
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div className="border-t border-indigo-700/10 mt-12 pt-8 flex flex-wrap justify-between items-center text-sm">
                        <div className="flex gap-6 text-slate-300">
                            <a href="#" className="hover:underline">
                                Privacy policy
                            </a>
                            <a href="#" className="hover:underline">
                                Terms of service
                            </a>
                            <a href="#" className="hover:underline">
                                Cookies settings
                            </a>
                        </div>

                        <div className="flex items-center gap-4">
                            <div className="flex gap-3">
                                <div className="w-8 h-8 rounded-full bg-indigo-900/10 flex items-center justify-center hover:bg-indigo-800/20 transition">
                                    <Globe className="w-4 h-4" />
                                </div>
                                <div className="w-8 h-8 rounded-full bg-indigo-900/10 flex items-center justify-center hover:bg-indigo-800/20 transition">
                                    <Globe className="w-4 h-4" />
                                </div>
                                <div className="w-8 h-8 rounded-full bg-indigo-900/10 flex items-center justify-center hover:bg-indigo-800/20 transition">
                                    <Globe className="w-4 h-4" />
                                </div>
                            </div>
                            <div className="text-slate-300">
                                ¬© 2025 FastFare. All rights reserved.
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </>
    );
}

export default LandingPage;
</file>

<file path="src/pages/NewPickup.tsx">
import { useEffect, useState } from "react";
import { apiFetch } from "../lib/api";
import ParticleField from "../components/ParticleField";
import logo from "../assets/logo.png";

interface Shipment {
  id: string;
  awb: string;
  from: {
    city: string;
  };
  to: {
    city: string;
  };
  driver?: string;
}

interface ApiResponse {
  shipments: Shipment[];
}

export default function NewPickup() {
  const [shipments, setShipments] = useState<Shipment[]>([]);
  const [loading, setLoading] = useState<boolean>(true);
  const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);

  useEffect(() => {
    (async () => {
      try {
        const res = await apiFetch("/api/v1/partner/incoming-shipments");
        setShipments((res as ApiResponse).shipments || []);
      } catch (e) {
        console.error(e);
      } finally {
        setLoading(false);
      }
    })();
  }, []);

  const assignDriver = async (shipmentId: string) => {
    const driver = prompt("Enter driver ID or phone:");
    if (!driver) return;

    try {
      await apiFetch("/api/v1/partner/assign-driver", {
        method: "POST",
        body: JSON.stringify({ shipmentId, driver }),
      });
      alert("Driver assigned!");
      window.location.reload();
    } catch (e) {
      alert("Failed to assign driver");
    }
  };

  return (
    <div className="relative min-h-screen overflow-hidden bg-slate-950">
      <ParticleField />

      <header className="fixed inset-x-0 top-0 z-30">
        <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
          <div className="container mx-auto px-6 py-4 flex items-center justify-between">
            <div className="flex items-center gap-4">
              <img src={logo} alt="FastFare" width={40} height={40} />
              <div className="text-white font-extrabold text-lg">FastFare ‚Äî Partner</div>
            </div>

            {/* Desktop Navigation */}
            <nav className="hidden md:flex items-center gap-8">
              {["Dashboard", "Tasks", "Collections"].map((l) => (
                <a key={l} href="#" className="text-sm text-slate-200 hover:text-white">
                  {l}
                </a>
              ))}
            </nav>

            <div className="flex items-center gap-4">
              <button
                className="text-slate-200 hover:text-white hidden md:inline"
                onClick={() => (window.location.href = "/login")}
              >
                Sign in
              </button>
              <button
                className="px-4 py-2 rounded-lg bg-cyan-500/95 text-black font-semibold shadow-lg hover:scale-105 transition"
                onClick={() => (window.location.href = "/partner/tasks")}
              >
                Open Tasks
              </button>
            </div>

            {/* Mobile Menu Button */}
            <div className="md:hidden text-slate-200 cursor-pointer" onClick={() => setIsMenuOpen(!isMenuOpen)}>
              ‚ò∞
            </div>
          </div>

          {/* Mobile Navigation */}
          {isMenuOpen && (
            <nav className="md:hidden bg-black/40 p-4">
              {["Dashboard", "Tasks", "Collections"].map((l) => (
                <a
                  key={l}
                  href="#"
                  className="block text-sm text-slate-200 hover:text-white py-2"
                  onClick={() => setIsMenuOpen(false)}
                >
                  {l}
                </a>
              ))}
            </nav>
          )}
        </div>
      </header>

      <main className="relative z-10 p-6 pt-28 max-w-3xl mx-auto">
        <h2 className="text-3xl font-bold text-cyan-400 mb-8">Incoming Shipments</h2>

        {loading ? (
          <div className="text-slate-300">Loading‚Ä¶</div>
        ) : shipments.length === 0 ? (
          <div className="text-slate-300">No incoming shipments.</div>
        ) : (
          shipments.map((s) => (
            <div
              key={s.id || s.awb}
              className="p-4 mb-3 rounded-xl bg-slate-800/60 border border-cyan-700/10 backdrop-blur-sm flex justify-between"
            >
              <div>
                <div className="text-white font-semibold">{s.awb || s.id}</div>
                <div className="text-slate-300 text-sm">
                  {s.from?.city} ‚Üí {s.to?.city}
                </div>
              </div>

              <div>
                {s.driver ? (
                  <span className="text-green-400 text-sm">Assigned to {s.driver}</span>
                ) : (
                  <button
                    onClick={() => assignDriver(s.id)}
                    className="px-3 py-2 bg-cyan-500 text-black rounded font-semibold hover:bg-cyan-400"
                  >
                    Assign Driver
                  </button>
                )}
              </div>
            </div>
          ))
        )}
      </main>
    </div>
  );
}
</file>

<file path="src/pages/NewShipment.tsx">
import { useState, useEffect } from "react";
import ParticleField from "../components/ParticleField";
import logo from "../assets/logo.png";

// Define types for form objects
interface ContactInfo {
  name: string;
  phone: string;
  email: string;
  address: string;
  city: string;
  date?: string;
}

interface PackageDetails {
  type: string;
  service: string;
  weight: string;
  dimensions: string;
  description: string;
  value: string;
}

export default function NewShipment() {
  const [step, setStep] = useState<number>(1);
  const [total, setTotal] = useState<number>(0);

  const [pickup, setPickup] = useState<ContactInfo>({
    name: "",
    phone: "",
    email: "",
    address: "",
    city: "",
    date: "",
  });

  const [delivery, setDelivery] = useState<ContactInfo>({
    name: "",
    phone: "",
    email: "",
    address: "",
    city: "",
  });

  const [packageDetails, setPackageDetails] = useState<PackageDetails>({
    type: "",
    service: "",
    weight: "",
    dimensions: "",
    description: "",
    value: "",
  });

  useEffect(() => {
    let price = 0;

    if (packageDetails.service === "Express") price += 499;
    if (packageDetails.service === "Standard") price += 299;

    const w = parseFloat(packageDetails.weight);
    if (!isNaN(w) && w > 0) {
      price += w * 20;
    }

    const v = parseFloat(packageDetails.value);
    if (!isNaN(v) && v > 10000) {
      price += v * 0.01;
    }

    setTotal(Math.round(price));
  }, [packageDetails]);

  return (
    <div className="relative min-h-screen bg-slate-950 text-white overflow-hidden">
      <ParticleField />

      <header className="fixed inset-x-0 top-0 z-30">
        <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
          <div className="container mx-auto px-6 py-4 flex items-center justify-between">
            <div className="flex items-center gap-4">
              <img src={logo} width={40} height={40} />
              <div className="text-white font-extrabold text-lg">FastFare ‚Äî User</div>
            </div>

            <button
              className="text-slate-300 hover:text-white"
              onClick={() => (window.location.href = "/userdashboard")}
            >
              ‚Üê Back to Dashboard
            </button>
          </div>
        </div>
      </header>

      <main className="pt-28 px-6 max-w-3xl mx-auto">
        <h2 className="text-3xl font-bold text-cyan-400 mb-6">Book Your Shipment</h2>
        <p className="mb-6 text-slate-300">
          Fast, reliable delivery between Delhi and Jaipur
        </p>

        {step === 1 && (
          <div className="bg-slate-900/60 p-6 rounded-xl border border-indigo-700/20">
            <h3 className="text-xl font-semibold mb-4">Pickup Information</h3>

            <label className="block mb-2">Contact Name *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="John Doe"
              onChange={(e) => setPickup({ ...pickup, name: e.target.value })}
            />

            <label className="block mb-2">Phone Number *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="+91 98765 43210"
              onChange={(e) => setPickup({ ...pickup, phone: e.target.value })}
            />

            <label className="block mb-2">Email Address *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="john@company.com"
              onChange={(e) => setPickup({ ...pickup, email: e.target.value })}
            />

            <label className="block mb-2">Pickup Address *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="Building name, Street, Area"
              onChange={(e) => setPickup({ ...pickup, address: e.target.value })}
            />

            <label className="block mb-2">Pickup City *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="Delhi"
              onChange={(e) => setPickup({ ...pickup, city: e.target.value })}
            />

            <label className="block mb-2">Pickup Date *</label>
            <input
              type="date"
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              onChange={(e) => setPickup({ ...pickup, date: e.target.value })}
            />

            <div className="flex justify-end">
              <button
                className="px-4 py-2 bg-cyan-500 text-black font-semibold rounded"
                onClick={() => setStep(2)}
              >
                Next Step ‚Üí
              </button>
            </div>
          </div>
        )}

        {step === 2 && (
          <div className="bg-slate-900/60 p-6 rounded-xl border border-indigo-700/20">
            <h3 className="text-xl font-semibold mb-4">Delivery Information</h3>

            <label className="block mb-2">Recipient Name *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="Jane Smith"
              onChange={(e) => setDelivery({ ...delivery, name: e.target.value })}
            />

            <label className="block mb-2">Recipient Phone *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="+91 98765 43210"
              onChange={(e) => setDelivery({ ...delivery, phone: e.target.value })}
            />

            <label className="block mb-2">Recipient Email *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="jane@company.com"
              onChange={(e) => setDelivery({ ...delivery, email: e.target.value })}
            />

            <label className="block mb-2">Delivery Address *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="Building name, Street, Area"
              onChange={(e) => setDelivery({ ...delivery, address: e.target.value })}
            />

            <label className="block mb-2">Delivery City *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="Jaipur"
              onChange={(e) => setDelivery({ ...delivery, city: e.target.value })}
            />

            <div className="flex justify-between">
              <button
                className="px-4 py-2 bg-slate-700 rounded"
                onClick={() => setStep(1)}
              >
                ‚Üê Previous
              </button>
              <button
                className="px-4 py-2 bg-cyan-500 text-black font-semibold rounded"
                onClick={() => setStep(3)}
              >
                Next Step ‚Üí
              </button>
            </div>
          </div>
        )}

        {step === 3 && (
          <div className="bg-slate-900/60 p-6 rounded-xl border border-indigo-700/20">
            <h3 className="text-xl font-semibold mb-4">Shipment Details</h3>

            <label className="block mb-2">Package Type *</label>
            <select
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              value={packageDetails.type}
              onChange={(e) => setPackageDetails({ ...packageDetails, type: e.target.value })}
            >
              <option value="">Select package type</option>
              <option value="Document">Document</option>
              <option value="Parcel">Parcel</option>
              <option value="Electronics">Electronics</option>
              <option value="Fragile Items">Fragile Items</option>
              <option value="Other">Other</option>
            </select>

            <label className="block mb-2">Service Type *</label>
            <select
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              onChange={(e) => setPackageDetails({ ...packageDetails, service: e.target.value })}
            >
              <option>Express (12 hours) - ‚Çπ499 base</option>
              <option>Standard (24 hours) - ‚Çπ299 base</option>
            </select>

            <label className="block mb-2">Weight (kg) *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="5"
              onChange={(e) => setPackageDetails({ ...packageDetails, weight: e.target.value })}
            />

            <label className="block mb-2">Dimensions (LxWxH cm)</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="30x20x15"
              onChange={(e) => setPackageDetails({ ...packageDetails, dimensions: e.target.value })}
            />

            <label className="block mb-2">Package Description *</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="Brief description of package contents"
              onChange={(e) => setPackageDetails({ ...packageDetails, description: e.target.value })}
            />

            <label className="block mb-2">Declared Value (‚Çπ)</label>
            <input
              className="w-full mb-4 p-2 bg-slate-800 rounded"
              placeholder="10000"
              onChange={(e) => setPackageDetails({ ...packageDetails, value: e.target.value })}
            />

            <div className="flex justify-between">
              <button
                className="px-4 py-2 bg-slate-700 rounded"
                onClick={() => setStep(2)}
              >
                ‚Üê Previous
              </button>
              <button
                className="px-4 py-2 bg-cyan-500 text-black font-semibold rounded"
                onClick={() => setStep(4)}
              >
                Next Step ‚Üí
              </button>
            </div>
          </div>
        )}

        {step === 4 && (
          <div className="bg-slate-900/60 p-6 rounded-xl border border-indigo-700/20">
            <h3 className="text-2xl font-bold text-cyan-400 mb-6">Review Your Booking</h3>

            <div className="mb-6">
              <h4 className="font-semibold">Pickup Details</h4>
              <p>Contact: {pickup.name}</p>
              <p>Phone: {pickup.phone}</p>
              <p>Address: {pickup.address}, {pickup.city}</p>
              <p>Date: {pickup.date}</p>
            </div>

            <div className="mb-6">
              <h4 className="font-semibold">Delivery Details</h4>
              <p>Recipient: {delivery.name}</p>
              <p>Phone: {delivery.phone}</p>
              <p>Address: {delivery.address}, {delivery.city}</p>
            </div>

            <div className="mb-6">
              <h4 className="font-semibold">Shipment Details</h4>
              <p>Type: {packageDetails.type}</p>
              <p>Weight: {packageDetails.weight} kg</p>
              <p>Service: {packageDetails.service}</p>
              <p>Value: ‚Çπ{packageDetails.value}</p>
            </div>

            <div className="text-3xl font-bold text-green-400 mb-4">Total Amount: ‚Çπ{total}</div>

            <div className="flex justify-between">
              <button
                className="px-4 py-2 bg-slate-700 rounded"
                onClick={() => setStep(3)}
              >
                ‚Üê Previous
              </button>
              <button
                className="px-4 py-2 bg-green-500 text-black font-semibold rounded"
                onClick={() => alert("Shipment Confirmed!")}
              >
                Confirm Booking ‚úî
              </button>
            </div>
          </div>
        )}
      </main>
    </div>
  );
}
</file>

<file path="src/pages/PartnersList.tsx">
import { useEffect, useState } from "react";
import ParticleField from "../components/ParticleField";
import logo from "../assets/logo.png";
import { apiFetch } from "../lib/api";

// Define the partner object type
interface Partner {
  companyName: string;
  email: string;
  // Add any other fields returned by your API here
}

// Define the API response type
interface ApiResponse {
  partners: Partner[];
}

export default function PartnersList() {
  const [partners, setPartners] = useState<Partner[]>([]);

  useEffect(() => {
    (async () => {
      try {
        const res = await apiFetch("/api/v1/admin/partners");
        setPartners((res as ApiResponse).partners || []);
      } catch (error) {
        console.error(error);
      }
    })();
  }, []);

  return (
    <div className="relative bg-slate-950 min-h-screen text-white">
      <ParticleField />

      <header className="fixed inset-x-0 top-0 z-30">
        <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
          <div className="container mx-auto px-6 py-4 flex items-center justify-between">
            <div className="flex items-center gap-4">
              <img src={logo} width={40} height={40} />
              <div className="text-lg font-bold">FastFare ‚Äî Admin</div>
            </div>
            <button
              className="text-slate-300 hover:text-white"
              onClick={() => (window.location.href = "/admin/dashboard")}
            >
              ‚Üê Back to Dashboard
            </button>
          </div>
        </div>
      </header>

      <main className="pt-28 px-6 max-w-4xl mx-auto">
        <h2 className="text-3xl font-bold mb-6 text-cyan-400">All Partners</h2>

        {partners.map((p, idx) => (
          <div key={idx} className="p-4 mb-2 bg-slate-900/60 rounded">
            {p.companyName} ‚Äî {p.email}
          </div>
        ))}
      </main>
    </div>
  );
}
</file>

<file path="src/pages/ShipmentsList.tsx">
import { useEffect, useState } from "react";
import ParticleField from "../components/ParticleField";
import logo from "../assets/logo.png";
import { apiFetch } from "../lib/api";

// Define shipment object type
interface Shipment {
  awb: string;
  from: {
    city: string;
  };
  to: {
    city: string;
  };
  // Add any other fields returned by your API here
}

// Define API response type
interface ApiResponse {
  shipments: Shipment[];
}

export default function ShipmentsList() {
  const [shipments, setShipments] = useState<Shipment[]>([]);

  useEffect(() => {
    (async () => {
      try {
        const res = await apiFetch("/api/v1/admin/shipments");
        setShipments((res as ApiResponse).shipments || []);
      } catch (error) {
        console.error(error);
      }
    })();
  }, []);

  return (
    <div className="relative bg-slate-950 min-h-screen text-white">
      <ParticleField />

      <header className="fixed inset-x-0 top-0 z-30">
        <div className="backdrop-blur-md bg-black/30 border-b border-indigo-700/20">
          <div className="container mx-auto px-6 py-4 flex items-center justify-between">
            <div className="flex items-center gap-4">
              <img src={logo} width={40} height={40} />
              <div className="text-lg font-bold">FastFare ‚Äî Admin</div>
            </div>
            <button
              className="text-slate-300 hover:text-white"
              onClick={() => (window.location.href = "/admin/dashboard")}
            >
              ‚Üê Back to Dashboard
            </button>
          </div>
        </div>
      </header>

      <main className="pt-28 px-6 max-w-4xl mx-auto">
        <h2 className="text-3xl font-bold mb-6 text-cyan-400">All Shipments</h2>

        {shipments.map((s, idx) => (
          <div key={idx} className="p-4 mb-2 bg-slate-900/60 rounded">
            {s.awb} ‚Äî {s.from.city} ‚Üí {s.to.city}
          </div>
        ))}
      </main>
    </div>
  );
}
</file>

<file path="src/pages/UserDetails.tsx">
import React from "react";
import { motion } from "framer-motion";
import { useForm, type SubmitHandler } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";
import logo from "../assets/logo.png";

const backend = import.meta.env.VITE_BACKEND_URL;

// Define Zod schema
const schema = z.object({
  name: z.string().min(2, "Name must be at least 2 characters"),
  age: z.string().min(1, "Age is required"),
  dob: z.string().optional(),
  companyName: z.string().min(2, "Company name must be at least 2 characters"),
  gstin: z
    .string()
    .length(15, "GSTIN must be exactly 15 characters")
    .optional()
    .or(z.literal("")),
  address: z.string().min(10, "Address must be at least 10 characters"),
  phone: z.string().min(10, "Phone number must be at least 10 digits"),
});

// Infer TypeScript type from Zod schema
type FormData = z.infer<typeof schema>;

export default function UserDetails() {
  const { register, handleSubmit } = useForm<FormData>({
    resolver: zodResolver(schema),
  });

  const onSubmit: SubmitHandler<FormData> = async (formValues) => {
    try {
      const token = localStorage.getItem("ff_token");
      if (!token) {
        window.location.href = "/login";
        return;
      }

      const payload = {
        name: formValues.name,
        age: formValues.age,
        dob: formValues.dob || null,
        companyName: formValues.companyName,
        gstin: formValues.gstin || "",
        address: formValues.address,
        phone: formValues.phone,
      };

      const res = await fetch(`${backend}/api/v1/user/update`, {
        method: "PATCH",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(payload),
      });

      if (res.status === 401) {
        localStorage.removeItem("ff_token");
        window.location.href = "/login";
        return;
      }

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        throw new Error(err.message || "Failed to update details");
      }

      window.location.href = "/dashboard/user";
    } catch (err) {
      alert((err as Error).message || "Error submitting details.");
    }
  };

  return (
    <div className="min-h-screen flex flex-col">
      <header className="w-full border-b border-brand-200/60 bg-white/70 backdrop-blur sticky top-0 z-10">
        <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
          <div className="flex items-center gap-2">
            <img src={logo} alt="FastFare" width={40} height={40} className="object-contain h-8 rounded-lg" />
            <div className="flex flex-col leading-tight">
              <span className="text-sm font-semibold text-brand-900">FastFare</span>
            </div>
          </div>
          <span className="text-[11px] font-medium text-slate-500">
            Setup progress:{" "}
            <span className="text-brand-700 font-semibold">Step 2 of 2</span>
          </span>
        </div>
      </header>

      <main className="flex-1 flex items-center justify-center px-4 py-10">
        <motion.div
          initial={{ opacity: 0, y: 24 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
          className="w-full max-w-5xl"
        >
          <div className="glass-card px-10 py-8">
            <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">
              <div>
                <h1 className="text-2xl md:text-3xl font-semibold text-brand-900">
                  Finish setting up your account
                </h1>
                <p className="text-xs md:text-sm text-slate-500 mt-2 max-w-xl">
                  These details are used on invoices and shipping labels.
                </p>
              </div>
              <div className="flex items-center gap-3">
                <div className="flex items-center gap-1">
                  <span className="h-7 w-7 rounded-full bg-brand-100 flex items-center justify-center text-xs font-semibold text-brand-800">
                    1
                  </span>
                  <span className="text-[11px] text-slate-500">Account</span>
                </div>
                <div className="h-px w-6 bg-slate-200" />
                <div className="flex items-center gap-1">
                  <span className="h-7 w-7 rounded-full bg-brand-600 text-white flex items-center justify-center text-xs font-semibold">
                    2
                  </span>
                  <span className="text-[11px] text-slate-700">Business details</span>
                </div>
              </div>
            </div>

            <form onSubmit={handleSubmit(onSubmit)} className="space-y-8">
              <section className="bg-brand-100/60 rounded-2xl p-6 border border-brand-200">
                <h2 className="text-sm font-semibold text-brand-800 mb-4">Personal Details</h2>
                <div className="grid md:grid-cols-3 gap-4">
                  <div className="space-y-1">
                    <label className="auth-label">Full Name</label>
                    <input {...register("name")} placeholder="Name" className="input-premium ml-1" />
                  </div>
                  <div className="space-y-1">
                    <label className="auth-label">Age</label>
                    <input {...register("age")} placeholder="Age" className="input-premium ml-1" />
                  </div>
                  <div className="space-y-1">
                    <label className="auth-label">Phone No.</label>
                    <input {...register("phone")} placeholder="Phone No." className="input-premium ml-1" />
                  </div>
                </div>
              </section>

              <section className="bg-brand-100/60 rounded-2xl p-6 border border-brand-200">
                <h2 className="text-sm font-semibold text-brand-800 mb-4">Company Details</h2>
                <div className="space-y-4">
                  <div>
                    <label className="auth-label">Company Name</label>
                    <input
                      {...register("companyName")}
                      placeholder="Company Name"
                      className="input-premium ml-1"
                    />
                  </div>
                  <div>
                    <label className="auth-label">GSTIN</label>
                    <input
                      {...register("gstin")}
                      placeholder="15-character GSTIN"
                      className="input-premium uppercase font-mono tracking-wide ml-1"
                    />
                  </div>
                  <div>
                    <label className="auth-label">Full Company Address</label>
                    <textarea
                      {...register("address")}
                      rows={3}
                      className="input-premium resize-none ml-1"
                      placeholder="House no, street, city, PIN"
                    />
                  </div>
                </div>
              </section>

              <div className="flex flex-col md:flex-row justify-between gap-3">
                <p className="text-[11px] text-slate-500 md:mt-2">
                  By continuing, you confirm details are correct.
                </p>
                <button type="submit" className="btn-premium text-sm md:w-56">
                  Register
                </button>
              </div>
            </form>
          </div>
        </motion.div>
      </main>
    </div>
  );
}
</file>

<file path="tsconfig.app.json">
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2022",
    "useDefineForClassFields": true,
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "types": ["vite/client"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["src"]
}
</file>

<file path="tsconfig.json">
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ]
}
</file>

<file path="tsconfig.node.json">
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2023",
    "lib": ["ES2023"],
    "module": "ESNext",
    "types": ["node"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"]
}
</file>

<file path="vite.config.ts">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})
</file>

<file path="eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import tseslint from 'typescript-eslint'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="src/pages/Home.tsx">
import { useEffect, useState, type JSX } from "react";
import logo from "../assets/logo.png";

interface User {
  role?: string;
  user?: {
    role?: string;
  };
}

export default function Root(): JSX.Element {
  const [loading, setLoading] = useState<boolean>(true);
  const [err, setErr] = useState<string | null>(null);

  const apiFetch = async (endpoint: string): Promise<any> => {
    const token = localStorage.getItem("ff_token");

    const res = await fetch(`http://localhost:3000${endpoint}`, {
      headers: {
        "Content-Type": "application/json",
        Authorization: token ? `Bearer ${token}` : "",
      },
    });

    if (!res.ok) {
      throw new Error("Not authorized");
    }

    return res.json();
  };

  useEffect(() => {
    (async () => {
      try {
        const me: User = await apiFetch("/api/v1/user/me");

        const role = me?.role || me?.user?.role || "user";

        if (role === "admin") window.location.href = "/dashboard/admin";
        else if (role === "partner" || role === "logistics_partner")
          window.location.href = "/dashboard/partner";
        else window.location.href = "/dashboard/user";
      } catch (e: any) {
        setErr(e?.message || "Not logged in");
        setLoading(false);
      }
    })();
  }, []);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <img src={logo} alt="FastFare" width={64} />
          <div className="mt-4 text-sm text-slate-600">
            Checking your session‚Ä¶
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex items-center justify-center px-4">
      <div className="glass-card p-8 max-w-2xl text-center">
        <img src={logo} alt="FastFare" width={150} className="mx-auto"/>
        <h2 className="mt-1 text-xl font-semibold text-brand-900">
          Welcome to FastFare
        </h2>
        <p className="mt-2 text-sm text-slate-600">
          Please login to continue to your dashboard.
        </p>
        <div className="mt-6">
          <a href="/login" className="btn-premium px-6 py-2 inline-block">
            Login
          </a>
        </div>
        {err && <p className="mt-3 text-xs text-red-500">{err}</p>}
      </div>
    </div>
  );
}
</file>

<file path="src/pages/Login.tsx">
import { motion, type Variants } from "framer-motion";
import { Link, useNavigate } from "react-router-dom";
import { useForm, type SubmitHandler } from "react-hook-form";
import logo from "../assets/logo.png";

const backend = import.meta.env.VITE_BACKEND_URL;

interface FormData {
  email: string;
  password: string;
}

const formContainer:Variants = {
  hidden: { opacity: 0, y: 18 },
  show: {
    opacity: 1,
    y: 0,
    transition: {
      duration: 0.45,
      ease: "easeOut",
      staggerChildren: 0.08,
    },
  },
};

const formItem:Variants = {
  hidden: { opacity: 0, y: 14 },
  show: {
    opacity: 1,
    y: 0,
    transition: { duration: 0.3, ease: "easeOut" },
  },
};

export default function LoginPage() {
  const navigate = useNavigate();
  const { register, handleSubmit, reset } = useForm<FormData>();

  const onLogin: SubmitHandler<FormData> = async (data) => {
    try {
      const res = await fetch(`${backend}/api/v1/user/login`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          email: data.email,
          password: data.password,
        }),
      });

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        throw new Error(err.message || "Invalid email or password");
      }

      const result = await res.json();

      if (result.token) {
        localStorage.setItem("ff_token", result.token);
      }

      const redirectTo =
        result.redirect || result.user?.dashboard || result.user?.home || "/";

      navigate(redirectTo);
      reset();
    } catch (err) {
      alert((err as Error).message || "Login failed");
    }
  };

  return (
    <div className="min-h-screen flex flex-col relative overflow-hidden bg-gradient-to-b from-brand-100 via-brand-100/70 to-brand-100">
      <header className="w-full border-b border-brand-200/60 bg-white/80 backdrop-blur-md sticky top-0 z-20">
        <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
          <div className="flex items-center gap-2">
            <div className="h-9 w-9 rounded-2xl bg-brand-100 flex items-center justify-center shadow-sm">
              <img src={logo} alt="FastFare" width={40} height={40} className="object-contain" />
            </div>
            <div className="flex flex-col leading-tight">
              <span className="text-sm font-semibold text-brand-900">FastFare</span>
            </div>
          </div>
        </div>
      </header>

      <main className="flex-1 flex items-center justify-center px-4 py-10 z-10">
        <div className="max-w-6xl w-full flex flex-col md:flex-row items-center gap-12">
          <motion.div
            className="flex-1 space-y-5"
            initial={{ opacity: 0, x: -24 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, ease: "easeOut" }}
          >
            <motion.p
              className="inline-flex items-center gap-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-brand-700"
              initial={{ opacity: 0, y: -8 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.4 }}
            >
              <span className="h-5 w-5 rounded-full bg-brand-100 flex items-center justify-center">
                <span className="h-2 w-2 rounded-full bg-brand-500" />
              </span>
              FastFare
            </motion.p>

            <h1 className="text-3xl md:text-5xl font-bold leading-tight">
              Ship smarter with a{" "}
              <span className="bg-gradient-to-r from-brand-700 to-brand-500 bg-clip-text text-transparent">
                single dashboard.
              </span>
            </h1>

            <p className="text-sm md:text-base text-slate-600 max-w-lg">
              Centralize your orders, track shipments in real time, and optimize shipping.
            </p>
          </motion.div>

          <motion.div
            initial={{ opacity: 0, y: 24 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, ease: "easeOut" }}
            className="flex-1 max-w-md w-full"
          >
            <motion.div
              className="glass-card px-8 py-8"
              whileHover={{ y: -4 }}
              transition={{ duration: 0.25, ease: "easeOut" }}
            >
              <div className="flex items-center justify-between mb-6">
                <div className="flex items-center gap-2">
                  <div className="h-9 w-9 rounded-2xl bg-brand-100 flex items-center justify-center">
                    <img src={logo} alt="FastFare" width={40} height={40} className="object-contain" />
                  </div>
                  <div className="flex flex-col leading-tight">
                    <span className="text-sm font-semibold text-brand-900">FastFare</span>
                    <span className="text-[11px] text-slate-500">Logistics dashboard</span>
                  </div>
                </div>
              </div>

              <motion.form
                onSubmit={handleSubmit(onLogin)}
                className="space-y-4"
                variants={formContainer}
                initial="hidden"
                animate="show"
              >
                <motion.div variants={formItem}>
                  <label className="auth-label">Email ID </label>
                  <input
                    {...register("email")}
                    placeholder="you@gmail.com"
                    className="input-premium px-4 py-1 ml-5"
                    type="email"
                    required
                  />
                </motion.div>

                <motion.div variants={formItem}>
                  <label className="auth-label">Password</label>
                  <input
                    {...register("password")}
                    type="password"
                    placeholder="Enter your password"
                    className="input-premium px-3 py-1 ml-4"
                    required
                  />
                </motion.div>

                <motion.div variants={formItem}>
                  <button type="submit" className="btn-premium mt-3 p-2">
                    Login to dashboard
                  </button>
                </motion.div>
              </motion.form>

              <p className="text-center text-xs text-slate-500 mt-6">
                New to FastFare?{" "}
                <Link to="/register" className="auth-link text-blue-500 hover:text-indigo-950">
                  Create your free account
                </Link>
              </p>
            </motion.div>
          </motion.div>
        </div>
      </main>
    </div>
  );
}
</file>

<file path="src/pages/Register.tsx">
import { motion, type Variants } from "framer-motion";
import { useForm, type SubmitHandler } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";
import { Link, useNavigate } from "react-router-dom";
import logo from "../assets/logo.png";

const backend = import.meta.env.VITE_BACKEND_URL;

// Define Zod schema
const schema = z
    .object({
        name: z.string().min(2, "Name must be at least 2 characters"),
        email: z.string().email("Invalid email address"),
        password: z.string().min(6, "Password must be at least 6 characters"),
        confirm: z.string(),
    })
    .refine((data) => data.password === data.confirm, {
        message: "Passwords don't match",
        path: ["confirm"],
    });

// Infer TypeScript type from Zod schema
type FormData = z.infer<typeof schema>;

// Framer Motion variants (typed)
const formContainer: Variants = {
    hidden: { opacity: 0, y: 18 },
    show: {
        opacity: 1,
        y: 0,
        transition: {
            duration: 0.45,
            ease: "easeOut",
            staggerChildren: 0.08,
        },
    },
};

const formItem: Variants = {
    hidden: { opacity: 0, y: 14 },
    show: {
        opacity: 1,
        y: 0,
        transition: { duration: 0.3, ease: "easeOut" },
    },
};

export default function Register() {
    const navigate = useNavigate();

    const {
        register,
        handleSubmit,
        formState: { errors },
    } = useForm<FormData>({ resolver: zodResolver(schema) });

    const onRegister: SubmitHandler<FormData> = async (formData) => {
        try {
            const res = await fetch(`${backend}/api/v1/user/register`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    name: formData.name,
                    email: formData.email,
                    password: formData.password,
                }),
            });

            if (!res.ok) {
                const err = await res.json().catch(() => ({}));
                throw new Error(err.message || "Registration failed");
            }

            const result = await res.json();

            if (result.token) {
                localStorage.setItem("ff_token", result.token);
            }

            navigate("/details");
        } catch (err) {
            alert((err as Error).message || "Error registering user");
        }
    };

    return (
        <div className="min-h-screen flex flex-col relative overflow-hidden bg-gradient-to-b from-brand-100 via-brand-100/70 to-brand-100">
            <div className="container-anim-wrapper">
                <div
                    className="container-anim-row absolute top-16 left-0 opacity-35"
                    style={{ animationDuration: "24s" }}
                >
                    {Array.from({ length: 20 }).map((_, i) => (
                        <div key={`reg-row1-${i}`} className="container-box" />
                    ))}
                </div>
                <div
                    className="container-anim-row absolute top-1/2 left-0 opacity-28 scale-90"
                    style={{ animationDuration: "30s" }}
                >
                    {Array.from({ length: 20 }).map((_, i) => (
                        <div key={`reg-row2-${i}`} className="container-box" />
                    ))}
                </div>
                <div
                    className="container-anim-row absolute bottom-14 left-0 opacity-22 scale-75"
                    style={{ animationDuration: "38s" }}
                >
                    {Array.from({ length: 20 }).map((_, i) => (
                        <div key={`reg-row3-${i}`} className="container-box" />
                    ))}
                </div>
            </div>

            <header className="w-full border-b border-brand-200/60 bg-white/80 backdrop-blur-md sticky top-0 z-20">
                <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
                    <div className="flex items-center gap-2">
                        <div className="h-9 w-9 rounded-2xl bg-brand-100 flex items-center justify-center shadow-sm">
                            <img src={logo} alt="FastFare" width={40} height={40} className="object-contain h-8" />
                        </div>
                        <div className="flex flex-col leading-tight">
                            <span className="text-sm font-semibold text-brand-900">FastFare</span>
                        </div>
                    </div>
                </div>
            </header>

            <main className="flex-1 flex items-center justify-center px-4 py-10 z-10">
                <div className="max-w-6xl w-full flex flex-col md:flex-row gap-12">
                    <motion.div
                        className="flex-1 flex flex-col justify-center"
                        initial={{ opacity: 0, x: -24 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ duration: 0.5, ease: "easeOut" }}
                    >
                        <p className="text-[11px] font-semibold tracking-[0.25em] text-brand-700 uppercase mb-2">
                            Get started free
                        </p>
                        <h1 className="text-3xl md:text-4xl font-bold leading-tight">
                            <span className="bg-gradient-to-r from-brand-900 via-brand-800 to-brand-600 bg-clip-text text-transparent">
                                We&apos;re more than just{" "}
                            </span>
                            <span className="bg-gradient-to-r from-brand-700 to-brand-500 bg-clip-text text-transparent">
                                shipping.
                            </span>
                        </h1>
                        <p className="mt-3 text-sm md:text-base text-slate-600 max-w-lg">
                            Create your FastFare Account, connect your store, add pickup
                            details and start dispatching orders in minutes.
                        </p>
                        <motion.ul
                            className="mt-5 space-y-2 text-sm text-slate-600"
                            initial={{ opacity: 0, y: 10 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.35, delay: 0.1 }}
                        >
                            <li>‚Ä¢ Real-time shipment tracking across carriers</li>
                            <li>‚Ä¢ Smart rate selection and performance analytics</li>
                            <li>‚Ä¢ One dashboard for all your orders and NDRs</li>
                        </motion.ul>
                    </motion.div>

                    <motion.div
                        initial={{ opacity: 0, y: 24 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.5, ease: "easeOut" }}
                        className="flex-1 max-w-md w-full"
                    >
                        <motion.div
                            className="glass-card px-8 py-8 shadow-[0_24px_70px_rgba(3,4,94,0.25)] border-brand-200/80 backdrop-blur-xl"
                            whileHover={{ y: -4, boxShadow: "0 28px 80px rgba(3,4,94,0.3)" }}
                            transition={{ duration: 0.25, ease: "easeOut" }}
                        >
                            <div className="flex items-center justify-between mb-5">
                                <div className="flex items-center gap-2">
                                    <div className="h-9 w-9 rounded-2xl bg-brand-100 flex items-center justify-center">
                                        <img src={logo} alt="FastFare" width={40} height={40} className="object-contain h-8" />
                                    </div>
                                    <div className="flex flex-col leading-tight">
                                        <span className="text-sm font-semibold text-brand-900">FastFare</span>
                                        <span className="text-[11px] text-slate-500">Create your account</span>
                                    </div>
                                </div>
                            </div>

                            <motion.form
                                onSubmit={handleSubmit(onRegister)}
                                className="space-y-4"
                                variants={formContainer}
                                initial="hidden"
                                animate="show"
                            >
                                <motion.div className="space-y-1" variants={formItem}>
                                    <label className="auth-label px-4 mr-2">Full Name</label>
                                    <input
                                        {...register("name")}
                                        placeholder=" Name"
                                        className="input-premium ml-12 py-1"
                                    />
                                    {errors.name && (
                                        <p className="text-[11px] text-red-500 mt-1">{String(errors.name.message)}</p>
                                    )}
                                </motion.div>

                                <motion.div className="space-y-1" variants={formItem}>
                                    <label className="auth-label px-4 mr-8">Email</label>
                                    <input
                                        {...register("email")}
                                        placeholder=" you@gmail.com"
                                        className="input-premium ml-14 py-1"
                                    />
                                    {errors.email && (
                                        <p className="text-[11px] text-red-500 mt-1">{String(errors.email.message)}</p>
                                    )}
                                </motion.div>

                                <motion.div className="grid grid-cols-1 md:grid-cols-2 gap-3" variants={formItem}>
                                    <div className="space-y-1">
                                        <label className="auth-label px-4 mr-3">Password</label>
                                        <input
                                            {...register("password")}
                                            type="password"
                                            placeholder=" Create password"
                                            className="input-premium ml-12 py-1"
                                        />
                                        {errors.password && (
                                            <p className="text-[11px] text-red-500 mt-1">{String(errors.password.message)}</p>
                                        )}
                                    </div>
                                    <div className="space-y-1">
                                        <label className="auth-label px-4">Confirm Password</label>
                                        <input
                                            {...register("confirm")}
                                            type="password"
                                            placeholder=" Re-enter password"
                                            className="input-premium py-1"
                                        />
                                        {errors.confirm && (
                                            <p className="text-[11px] text-red-500 mt-1">{String(errors.confirm.message)}</p>
                                        )}
                                    </div>
                                </motion.div>

                                <motion.div variants={formItem}>
                                    <button type="submit" className="btn-premium mt-2 p-2 ml-3">
                                        Continue
                                    </button>
                                </motion.div>
                            </motion.form>

                            <p className="text-center text-xs text-slate-500 mt-6">
                                Already have an account?{" "}
                                <Link to="/login" className="auth-link text-blue-500 hover:text-indigo-950">
                                    Login
                                </Link>
                            </p>
                        </motion.div>
                    </motion.div>
                </div>
            </main>
        </div>
    );
}
</file>

<file path="tailwind.config.js">
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./index.html', './src/**/*.{js,jsx,ts,tsx}'],
  theme: {
    extend: {
      colors: {
        brand: {
          100: '#eef2ff',
          200: '#c7d2fe',
          500: '#6366f1',
          600: '#4f46e5',
          700: '#4338ca',
          800: '#312e81',
          900: '#1e1b4b',
        },
      },
    },
  },
  plugins: [],
}
</file>

<file path="src/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .btn-premium {
      @apply inline-flex items-center justify-center bg-[#0096c7] rounded-2xl text-white px-5 py-3 hover:bg-[#023e8a] hover:scale-105 transition-all duration-300;
    }
  
    .glass-card {
      @apply bg-white/10 backdrop-blur-xl border border-white/20 shadow-lg rounded-3xl;
    }
  }
</file>

<file path="package.json">
{
  "name": "fastfare-frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.2.2",
    "framer-motion": "^12.23.26",
    "lucide-react": "^0.561.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-hook-form": "^7.68.0",
    "react-router-dom": "^7.10.1",
    "zod": "^4.1.13"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/node": "^24.10.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "autoprefixer": "^10.4.22",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^3.4.19",
    "typescript": "~5.9.3",
    "typescript-eslint": "^8.46.4",
    "vite": "^7.2.4"
  }
}
</file>

<file path="src/App.tsx">
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import Home from "./pages/Home";
import DashboardLayout from './components/DashboardLayout';
import CreateAdmin from './pages/CreateAdmin';
import Dashboardadmin from "./pages/DashboardAdmin";
import Dashboardpartner from "./pages/DashboardPartner";
import Dashboarduser from "./pages/DashboardUser";
import Login from "./pages/Login";
import NewPickup from "./pages/NewPickup";
import NewShipment from "./pages/NewShipment";
import PartnersList from "./pages/PartnersList";
import Register from "./pages/Register";
import ShipmentsList from "./pages/ShipmentsList";
import UserDetails from "./pages/UserDetails";
import UsersList from "./pages/UsersList";

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Home />}></Route>
        <Route path="/dashboardlayout" element={<DashboardLayout children={undefined} />}></Route>
        <Route path="/admin/create-admin" element={<CreateAdmin />}></Route>
        <Route path="/admindashboard" element={<Dashboardadmin />}></Route>
        <Route path="/partnerdashboard" element={<Dashboardpartner />}></Route>
        <Route path="/userdashboard" element={<Dashboarduser />}></Route>
        <Route path="/login" element={<Login />}></Route>
        <Route path="/partner/new-pickup" element={<NewPickup />} />
        <Route path="/user/new-shipment" element={<NewShipment />} />
        <Route path="/admin/partners" element={<PartnersList />} />
        <Route path="/register" element={<Register />}></Route>
        <Route path="/admin/shipments" element={<ShipmentsList />} />
        <Route path="/userdetails" element={<UserDetails/>}></Route>
        <Route path="/admin/users" element={<UsersList />} />

      </Routes>
    </BrowserRouter>
  );
}

export default App;
</file>

</files>
